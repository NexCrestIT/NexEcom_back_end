import{u as b,c as x,a as g,o as _,b as o,d as e,h as V,e as h,f as l,g as w,i as q,n,F as k,p as U}from"./app-BK2Pf2Of.js";import{_ as i}from"./InputError.vue_vue_type_script_setup_true_lang-CcbTktWY.js";import{I as m,_ as $}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-Dttp5iz6.js";import{s as c}from"./index-ByAzzK9e.js";import{s as u}from"./index-CbgF3ImK.js";import{s as E}from"./index-f_JnnQr1.js";import{s as p}from"./index-BRHAo3_x.js";import{s as I}from"./index-BxPYidhq.js";import"./index-CQY5XXk-.js";import"./useForwardExpose-Aj-X7GuJ.js";import"./VisuallyHidden-CM4-6sg1.js";import"./RovingFocusGroup-CjnzX16-.js";import"./createLucideIcon-CU3Joau-.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-BQA8nYZt.js";import"./index-DpBsBaFy.js";import"./index-BfUF3OBm.js";import"./index-DFN163rb.js";import"./index-BlRmLhx1.js";const C={class:"flex flex-col gap-4 p-6"},N={class:"rounded-lg border border-border bg-card p-6"},B={class:"space-y-4"},F={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},j={class:"flex flex-col gap-2"},D={class:"flex flex-col gap-2"},P={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},R={class:"flex flex-col gap-2"},S={class:"flex flex-col gap-2"},T={class:"flex flex-col gap-2"},L={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Q={class:"flex flex-col gap-2"},z={class:"flex flex-col gap-2"},A={class:"flex flex-col gap-2"},M={class:"flex flex-col gap-2"},O={class:"flex flex-col gap-2"},G={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},fe={__name:"Edit",props:{inventory:{type:Object,required:!0}},setup(d){const a=d,t=b({_method:"PUT",quantity:a.inventory.quantity||0,reserved_quantity:a.inventory.reserved_quantity||0,low_stock_threshold:a.inventory.low_stock_threshold||null,cost_price:a.inventory.cost_price?parseFloat(a.inventory.cost_price):null,batch_number:a.inventory.batch_number||"",expiry_date:a.inventory.expiry_date?new Date(a.inventory.expiry_date):null,notes:a.inventory.notes||"",reason:""}),f=x(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Inventory",href:m.index.url()},{title:`Edit: ${a.inventory.product?.name||"Inventory"}`,href:m.edit.url(a.inventory.id)}]),v=()=>{t.post(m.update.url(a.inventory.id),{preserveScroll:!0})},y=()=>{U.visit(m.index.url())};return(H,s)=>(_(),g(k,null,[o(e(V),{title:`Edit: ${d.inventory.product?.name||"Inventory"}`},null,8,["title"]),o($,{title:`Edit: ${d.inventory.product?.name||"Inventory"}`,breadcrumbs:f.value},{default:h(()=>[l("div",C,[l("div",N,[l("form",{onSubmit:w(v,["prevent"]),class:"flex flex-col gap-6"},[l("div",B,[s[19]||(s[19]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),l("div",F,[l("div",j,[s[8]||(s[8]=l("label",{class:"text-sm font-medium"},"Product",-1)),o(e(u),{value:d.inventory.product?.name||"N/A",disabled:"",class:"w-full"},null,8,["value"])]),l("div",D,[s[9]||(s[9]=l("label",{class:"text-sm font-medium"},"Location",-1)),o(e(u),{value:d.inventory.location||"main",disabled:"",class:"w-full"},null,8,["value"])])]),l("div",P,[l("div",R,[s[10]||(s[10]=l("label",{for:"quantity",class:"text-sm font-medium"},[q(" Quantity "),l("span",{class:"text-red-500"},"*")],-1)),o(e(p),{id:"quantity",modelValue:e(t).quantity,"onUpdate:modelValue":s[0]||(s[0]=r=>e(t).quantity=r),min:0,class:n([{"p-invalid":e(t).errors.quantity},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.quantity},null,8,["message"])]),l("div",S,[s[11]||(s[11]=l("label",{for:"reserved_quantity",class:"text-sm font-medium"},"Reserved Quantity",-1)),o(e(p),{id:"reserved_quantity",modelValue:e(t).reserved_quantity,"onUpdate:modelValue":s[1]||(s[1]=r=>e(t).reserved_quantity=r),min:0,class:n([{"p-invalid":e(t).errors.reserved_quantity},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.reserved_quantity},null,8,["message"])]),l("div",T,[s[12]||(s[12]=l("label",{for:"low_stock_threshold",class:"text-sm font-medium"},"Low Stock Threshold",-1)),o(e(p),{id:"low_stock_threshold",modelValue:e(t).low_stock_threshold,"onUpdate:modelValue":s[2]||(s[2]=r=>e(t).low_stock_threshold=r),min:0,class:n([{"p-invalid":e(t).errors.low_stock_threshold},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.low_stock_threshold},null,8,["message"])])]),l("div",L,[l("div",Q,[s[13]||(s[13]=l("label",{for:"cost_price",class:"text-sm font-medium"},"Cost Price",-1)),o(e(p),{id:"cost_price",modelValue:e(t).cost_price,"onUpdate:modelValue":s[3]||(s[3]=r=>e(t).cost_price=r),min:0,prefix:"$",class:n([{"p-invalid":e(t).errors.cost_price},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.cost_price},null,8,["message"])]),l("div",z,[s[14]||(s[14]=l("label",{for:"batch_number",class:"text-sm font-medium"},"Batch Number",-1)),o(e(u),{id:"batch_number",modelValue:e(t).batch_number,"onUpdate:modelValue":s[4]||(s[4]=r=>e(t).batch_number=r),placeholder:"Enter batch number...",class:n([{"p-invalid":e(t).errors.batch_number},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.batch_number},null,8,["message"])])]),l("div",A,[s[15]||(s[15]=l("label",{for:"expiry_date",class:"text-sm font-medium"},"Expiry Date",-1)),o(e(I),{id:"expiry_date",modelValue:e(t).expiry_date,"onUpdate:modelValue":s[5]||(s[5]=r=>e(t).expiry_date=r),dateFormat:"yy-mm-dd",class:n([{"p-invalid":e(t).errors.expiry_date},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.expiry_date},null,8,["message"])]),l("div",M,[s[16]||(s[16]=l("label",{for:"reason",class:"text-sm font-medium"},"Reason for Change",-1)),o(e(u),{id:"reason",modelValue:e(t).reason,"onUpdate:modelValue":s[6]||(s[6]=r=>e(t).reason=r),placeholder:"Enter reason for adjustment...",class:n([{"p-invalid":e(t).errors.reason},"w-full"])},null,8,["modelValue","class"]),s[17]||(s[17]=l("small",{class:"text-muted-foreground"},"Required if quantity is changed",-1)),o(i,{message:e(t).errors.reason},null,8,["message"])]),l("div",O,[s[18]||(s[18]=l("label",{for:"notes",class:"text-sm font-medium"},"Notes",-1)),o(e(E),{id:"notes",modelValue:e(t).notes,"onUpdate:modelValue":s[7]||(s[7]=r=>e(t).notes=r),placeholder:"Enter notes...",rows:"3",class:n([{"p-invalid":e(t).errors.notes},"w-full"])},null,8,["modelValue","class"]),o(i,{message:e(t).errors.notes},null,8,["message"])])]),l("div",G,[o(e(c),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:y}),o(e(c),{type:"submit",label:"Update Inventory",icon:"pi pi-check",loading:e(t).processing,disabled:e(t).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{fe as default};
