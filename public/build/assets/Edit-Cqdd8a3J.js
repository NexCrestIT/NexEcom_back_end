import{u as O,r as V,c as w,a as v,o as b,b as i,d as s,h as A,e as M,f as l,g as j,i as u,n as a,t as T,j as U,F as P,p as L}from"./app-BK2Pf2Of.js";import{_ as r}from"./InputError.vue_vue_type_script_setup_true_lang-CcbTktWY.js";import{D as c,_ as N}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-Dttp5iz6.js";import{s as f}from"./index-ByAzzK9e.js";import{s as g}from"./index-CbgF3ImK.js";import{s as D}from"./index-f_JnnQr1.js";import{s as y}from"./index-jPdbgPEm.js";import{s as B}from"./index-BR0xBKiT.js";import{s as n}from"./index-BRHAo3_x.js";import{s as S}from"./index-BxPYidhq.js";import{s as x}from"./index-DR1Syb5x.js";import"./index-CQY5XXk-.js";import"./useForwardExpose-Aj-X7GuJ.js";import"./VisuallyHidden-CM4-6sg1.js";import"./RovingFocusGroup-CjnzX16-.js";import"./createLucideIcon-CU3Joau-.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-BQA8nYZt.js";import"./index-vBjVw-4p.js";import"./index-DpBsBaFy.js";import"./index-BfUF3OBm.js";import"./index-Bv74yKGD.js";import"./index-DFN163rb.js";import"./index-BlRmLhx1.js";import"./index-B1miUTR4.js";const q={class:"flex flex-col gap-4 p-6"},H={class:"rounded-lg border border-border bg-card p-6"},I={class:"space-y-4"},z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},K={class:"flex flex-col gap-2"},G={class:"flex flex-col gap-2"},J={class:"flex flex-col gap-2"},Q={class:"space-y-4"},R={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},W={class:"flex flex-col gap-2"},X={class:"flex flex-col gap-2"},Y={class:"text-muted-foreground"},Z={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},h={class:"flex flex-col gap-2"},ee={class:"flex flex-col gap-2"},se={class:"space-y-4"},le={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},te={class:"flex flex-col gap-2"},oe={class:"flex flex-col gap-2"},ie={class:"space-y-4"},de={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ae={class:"flex flex-col gap-2"},re={class:"flex flex-col gap-2"},ne={class:"space-y-4"},me={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},ue={class:"flex items-center justify-between p-4 border rounded-lg"},pe={class:"flex items-center justify-between p-4 border rounded-lg"},ce={class:"flex items-center justify-between p-4 border rounded-lg"},fe={class:"flex flex-col gap-2"},ge={class:"space-y-4"},xe={class:"flex items-center justify-between border-b pb-2"},_e={key:0,class:"space-y-4"},ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"flex flex-col gap-2"},ye={class:"flex flex-col gap-2"},Ve={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},we={class:"flex flex-col gap-2"},Ue={class:"flex flex-col gap-2"},De={class:"space-y-4"},Se={class:"flex items-center justify-between border-b pb-2"},ke={key:0,class:"space-y-4"},$e={class:"flex flex-col gap-2"},Ee={class:"flex flex-col gap-2"},Ce={class:"flex flex-col gap-2"},Fe={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},os={__name:"Edit",props:{discount:{type:Object,required:!0}},setup(_){const d=_,t=O({name:d.discount.name||"",code:d.discount.code||"",description:d.discount.description||"",type:d.discount.type||"percentage",value:d.discount.value||0,minimum_purchase:d.discount.minimum_purchase||null,maximum_discount:d.discount.maximum_discount||null,usage_limit_per_user:d.discount.usage_limit_per_user||null,total_usage_limit:d.discount.total_usage_limit||null,start_date:d.discount.start_date?new Date(d.discount.start_date):null,end_date:d.discount.end_date?new Date(d.discount.end_date):null,is_active:d.discount.is_active??!0,is_first_time_only:d.discount.is_first_time_only??!1,free_shipping:d.discount.free_shipping??!1,applicable_categories:d.discount.applicable_categories||[],applicable_products:d.discount.applicable_products||[],excluded_categories:d.discount.excluded_categories||[],excluded_products:d.discount.excluded_products||[],sort_order:d.discount.sort_order||0,meta_title:d.discount.meta_title||"",meta_description:d.discount.meta_description||"",meta_keywords:d.discount.meta_keywords||""}),m=V(!1),p=V(!1);(d.discount.meta_title||d.discount.meta_description||d.discount.meta_keywords)&&(m.value=!0);const k=[{label:"Percentage",value:"percentage"},{label:"Fixed Amount",value:"fixed"}],$=w(()=>t.type==="percentage"?100:null),E=w(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Discounts",href:c.index.url()},{title:`Edit: ${d.discount.name}`,href:c.edit.url(d.discount.id)}]);function C(){t.post(c.update.url(d.discount.id),{preserveScroll:!0})}function F(){L.visit(c.index.url())}return(Oe,e)=>(b(),v(P,null,[i(s(A),{title:`Edit: ${_.discount.name}`},null,8,["title"]),i(N,{title:`Edit: ${_.discount.name}`,breadcrumbs:E.value},{default:M(()=>[l("div",q,[l("div",H,[l("form",{onSubmit:j(C,["prevent"]),class:"flex flex-col gap-6"},[l("div",I,[e[28]||(e[28]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),l("div",z,[l("div",K,[e[24]||(e[24]=l("label",{for:"name",class:"text-sm font-medium"},[u(" Discount Name "),l("span",{class:"text-red-500"},"*")],-1)),i(s(g),{id:"name",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=o=>s(t).name=o),placeholder:"Enter discount name...",class:a([{"p-invalid":s(t).errors.name},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.name},null,8,["message"])]),l("div",G,[e[25]||(e[25]=l("label",{for:"code",class:"text-sm font-medium"},"Discount Code",-1)),i(s(g),{id:"code",modelValue:s(t).code,"onUpdate:modelValue":e[1]||(e[1]=o=>s(t).code=o),placeholder:"Auto-generated if left empty",class:a([{"p-invalid":s(t).errors.code},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.code},null,8,["message"]),e[26]||(e[26]=l("small",{class:"text-muted-foreground"}," Unique coupon code ",-1))])]),l("div",J,[e[27]||(e[27]=l("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),i(s(D),{id:"description",modelValue:s(t).description,"onUpdate:modelValue":e[2]||(e[2]=o=>s(t).description=o),placeholder:"Enter discount description...",class:a([{"p-invalid":s(t).errors.description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),i(r,{message:s(t).errors.description},null,8,["message"])])]),l("div",Q,[e[35]||(e[35]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Discount Details",-1)),l("div",R,[l("div",W,[e[29]||(e[29]=l("label",{for:"type",class:"text-sm font-medium"},[u(" Discount Type "),l("span",{class:"text-red-500"},"*")],-1)),i(s(B),{id:"type",modelValue:s(t).type,"onUpdate:modelValue":e[3]||(e[3]=o=>s(t).type=o),options:k,optionLabel:"label",optionValue:"value",placeholder:"Select Type",class:a([{"p-invalid":s(t).errors.type},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.type},null,8,["message"])]),l("div",X,[e[30]||(e[30]=l("label",{for:"value",class:"text-sm font-medium"},[u(" Discount Value "),l("span",{class:"text-red-500"},"*")],-1)),i(s(n),{id:"value",modelValue:s(t).value,"onUpdate:modelValue":e[4]||(e[4]=o=>s(t).value=o),min:0,max:$.value,suffix:s(t).type==="percentage"?"%":"$",class:a([{"p-invalid":s(t).errors.value},"w-full"])},null,8,["modelValue","max","suffix","class"]),i(r,{message:s(t).errors.value},null,8,["message"]),l("small",Y,T(s(t).type==="percentage"?"Percentage (0-100)":"Fixed amount"),1)])]),l("div",Z,[l("div",h,[e[31]||(e[31]=l("label",{for:"minimum_purchase",class:"text-sm font-medium"},"Minimum Purchase",-1)),i(s(n),{id:"minimum_purchase",modelValue:s(t).minimum_purchase,"onUpdate:modelValue":e[5]||(e[5]=o=>s(t).minimum_purchase=o),min:0,prefix:"$",class:a([{"p-invalid":s(t).errors.minimum_purchase},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.minimum_purchase},null,8,["message"]),e[32]||(e[32]=l("small",{class:"text-muted-foreground"}," Minimum order amount to apply discount ",-1))]),l("div",ee,[e[33]||(e[33]=l("label",{for:"maximum_discount",class:"text-sm font-medium"},"Maximum Discount",-1)),i(s(n),{id:"maximum_discount",modelValue:s(t).maximum_discount,"onUpdate:modelValue":e[6]||(e[6]=o=>s(t).maximum_discount=o),min:0,prefix:"$",class:a([{"p-invalid":s(t).errors.maximum_discount},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.maximum_discount},null,8,["message"]),e[34]||(e[34]=l("small",{class:"text-muted-foreground"}," Maximum discount amount (for percentage discounts) ",-1))])])]),l("div",se,[e[38]||(e[38]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Validity Period",-1)),l("div",le,[l("div",te,[e[36]||(e[36]=l("label",{for:"start_date",class:"text-sm font-medium"},[u(" Start Date "),l("span",{class:"text-red-500"},"*")],-1)),i(s(S),{id:"start_date",modelValue:s(t).start_date,"onUpdate:modelValue":e[7]||(e[7]=o=>s(t).start_date=o),showTime:"",hourFormat:"12",class:a([{"p-invalid":s(t).errors.start_date},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.start_date},null,8,["message"])]),l("div",oe,[e[37]||(e[37]=l("label",{for:"end_date",class:"text-sm font-medium"},[u(" End Date "),l("span",{class:"text-red-500"},"*")],-1)),i(s(S),{id:"end_date",modelValue:s(t).end_date,"onUpdate:modelValue":e[8]||(e[8]=o=>s(t).end_date=o),showTime:"",hourFormat:"12",minDate:s(t).start_date,class:a([{"p-invalid":s(t).errors.end_date},"w-full"])},null,8,["modelValue","minDate","class"]),i(r,{message:s(t).errors.end_date},null,8,["message"])])])]),l("div",ie,[e[43]||(e[43]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Usage Limits",-1)),l("div",de,[l("div",ae,[e[39]||(e[39]=l("label",{for:"usage_limit_per_user",class:"text-sm font-medium"},"Usage Limit Per User",-1)),i(s(n),{id:"usage_limit_per_user",modelValue:s(t).usage_limit_per_user,"onUpdate:modelValue":e[9]||(e[9]=o=>s(t).usage_limit_per_user=o),min:1,class:a([{"p-invalid":s(t).errors.usage_limit_per_user},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.usage_limit_per_user},null,8,["message"]),e[40]||(e[40]=l("small",{class:"text-muted-foreground"}," Maximum times a single user can use this discount ",-1))]),l("div",re,[e[41]||(e[41]=l("label",{for:"total_usage_limit",class:"text-sm font-medium"},"Total Usage Limit",-1)),i(s(n),{id:"total_usage_limit",modelValue:s(t).total_usage_limit,"onUpdate:modelValue":e[10]||(e[10]=o=>s(t).total_usage_limit=o),min:1,class:a([{"p-invalid":s(t).errors.total_usage_limit},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.total_usage_limit},null,8,["message"]),e[42]||(e[42]=l("small",{class:"text-muted-foreground"}," Maximum total times this discount can be used ",-1))])])]),l("div",ne,[e[48]||(e[48]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Settings",-1)),l("div",me,[l("div",ue,[e[44]||(e[44]=l("div",null,[l("label",{class:"text-sm font-medium"},"Active"),l("p",{class:"text-xs text-muted-foreground"},"Discount is active")],-1)),i(s(y),{modelValue:s(t).is_active,"onUpdate:modelValue":e[11]||(e[11]=o=>s(t).is_active=o)},null,8,["modelValue"])]),l("div",pe,[e[45]||(e[45]=l("div",null,[l("label",{class:"text-sm font-medium"},"First Time Only"),l("p",{class:"text-xs text-muted-foreground"},"Only for first-time customers")],-1)),i(s(y),{modelValue:s(t).is_first_time_only,"onUpdate:modelValue":e[12]||(e[12]=o=>s(t).is_first_time_only=o)},null,8,["modelValue"])]),l("div",ce,[e[46]||(e[46]=l("div",null,[l("label",{class:"text-sm font-medium"},"Free Shipping"),l("p",{class:"text-xs text-muted-foreground"},"Apply free shipping")],-1)),i(s(y),{modelValue:s(t).free_shipping,"onUpdate:modelValue":e[13]||(e[13]=o=>s(t).free_shipping=o)},null,8,["modelValue"])])]),l("div",fe,[e[47]||(e[47]=l("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),i(s(n),{id:"sort_order",modelValue:s(t).sort_order,"onUpdate:modelValue":e[14]||(e[14]=o=>s(t).sort_order=o),min:0,class:a([{"p-invalid":s(t).errors.sort_order},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.sort_order},null,8,["message"])])]),l("div",ge,[l("div",xe,[e[49]||(e[49]=l("h3",{class:"text-lg font-semibold"},"Advanced Options",-1)),i(s(f),{label:p.value?"Hide Advanced":"Show Advanced",icon:"pi pi-cog",severity:"secondary",text:"",onClick:e[15]||(e[15]=o=>p.value=!p.value),type:"button"},null,8,["label"])]),p.value?(b(),v("div",_e,[l("div",ve,[l("div",be,[e[50]||(e[50]=l("label",{class:"text-sm font-medium"},"Applicable Categories",-1)),i(s(x),{modelValue:s(t).applicable_categories,"onUpdate:modelValue":e[16]||(e[16]=o=>s(t).applicable_categories=o),options:[],placeholder:"Select categories (optional)",class:"w-full",display:"chip"},null,8,["modelValue"]),e[51]||(e[51]=l("small",{class:"text-muted-foreground"}," Leave empty to apply to all categories ",-1))]),l("div",ye,[e[52]||(e[52]=l("label",{class:"text-sm font-medium"},"Excluded Categories",-1)),i(s(x),{modelValue:s(t).excluded_categories,"onUpdate:modelValue":e[17]||(e[17]=o=>s(t).excluded_categories=o),options:[],placeholder:"Select categories to exclude",class:"w-full",display:"chip"},null,8,["modelValue"])])]),l("div",Ve,[l("div",we,[e[53]||(e[53]=l("label",{class:"text-sm font-medium"},"Applicable Products",-1)),i(s(x),{modelValue:s(t).applicable_products,"onUpdate:modelValue":e[18]||(e[18]=o=>s(t).applicable_products=o),options:[],placeholder:"Select products (optional)",class:"w-full",display:"chip"},null,8,["modelValue"]),e[54]||(e[54]=l("small",{class:"text-muted-foreground"}," Leave empty to apply to all products ",-1))]),l("div",Ue,[e[55]||(e[55]=l("label",{class:"text-sm font-medium"},"Excluded Products",-1)),i(s(x),{modelValue:s(t).excluded_products,"onUpdate:modelValue":e[19]||(e[19]=o=>s(t).excluded_products=o),options:[],placeholder:"Select products to exclude",class:"w-full",display:"chip"},null,8,["modelValue"])])])])):U("",!0)]),l("div",De,[l("div",Se,[e[56]||(e[56]=l("h3",{class:"text-lg font-semibold"},"SEO Settings",-1)),i(s(f),{label:m.value?"Hide SEO":"Show SEO",icon:"pi pi-cog",severity:"secondary",text:"",onClick:e[20]||(e[20]=o=>m.value=!m.value),type:"button"},null,8,["label"])]),m.value?(b(),v("div",ke,[l("div",$e,[e[57]||(e[57]=l("label",{for:"meta_title",class:"text-sm font-medium"},"Meta Title",-1)),i(s(g),{id:"meta_title",modelValue:s(t).meta_title,"onUpdate:modelValue":e[21]||(e[21]=o=>s(t).meta_title=o),placeholder:"SEO meta title",class:a([{"p-invalid":s(t).errors.meta_title},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.meta_title},null,8,["message"])]),l("div",Ee,[e[58]||(e[58]=l("label",{for:"meta_description",class:"text-sm font-medium"},"Meta Description",-1)),i(s(D),{id:"meta_description",modelValue:s(t).meta_description,"onUpdate:modelValue":e[22]||(e[22]=o=>s(t).meta_description=o),placeholder:"SEO meta description",class:a([{"p-invalid":s(t).errors.meta_description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),i(r,{message:s(t).errors.meta_description},null,8,["message"])]),l("div",Ce,[e[59]||(e[59]=l("label",{for:"meta_keywords",class:"text-sm font-medium"},"Meta Keywords",-1)),i(s(g),{id:"meta_keywords",modelValue:s(t).meta_keywords,"onUpdate:modelValue":e[23]||(e[23]=o=>s(t).meta_keywords=o),placeholder:"keyword1, keyword2, keyword3",class:a([{"p-invalid":s(t).errors.meta_keywords},"w-full"])},null,8,["modelValue","class"]),i(r,{message:s(t).errors.meta_keywords},null,8,["message"])])])):U("",!0)]),l("div",Fe,[i(s(f),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:F}),i(s(f),{type:"submit",label:"Update Discount",icon:"pi pi-check",loading:s(t).processing,disabled:s(t).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{os as default};
