import{u as L,r as x,c as O,a as m,o as u,b as r,d as l,h as A,e as D,f as s,g as R,i as N,n as p,j as k,F as S,l as U,p as P}from"./app-CSoXAXzJ.js";import{_ as d}from"./InputError.vue_vue_type_script_setup_true_lang-DPgT1leT.js";import{B as y,_ as T}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CY8uq29N.js";import{s as c}from"./index-rgAG_kXB.js";import{s as f}from"./index-ClsTdmJU.js";import{s as $}from"./index-zGor_b7q.js";import{s as C}from"./index-uJ02oHJV.js";import{s as E}from"./index-BT9B3ZIm.js";import"./index-L5D_ktCJ.js";import"./useForwardExpose-DJAZBMAY.js";import"./VisuallyHidden-D64JTJ7n.js";import"./RovingFocusGroup-Cj9w1ZFH.js";import"./createLucideIcon-D0VFtXE2.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-4rJ_OANk.js";import"./index-05MKcTrA.js";const q={class:"flex flex-col gap-4 p-6"},H={class:"rounded-lg border border-border bg-card p-6"},K={class:"space-y-4"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},J={class:"flex flex-col gap-2"},Q={class:"flex flex-col gap-2"},X={class:"flex flex-col gap-2"},Y={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Z={class:"flex flex-col gap-2"},ee={class:"flex flex-col gap-2"},le={class:"space-y-4"},se={class:"flex flex-col gap-4"},te={key:0,class:"relative inline-block mb-2"},ae=["src"],re={key:0,class:"flex flex-wrap gap-2 mb-2"},oe=["src"],ie=["src"],de={class:"space-y-4"},ne={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"flex items-center justify-between p-4 border rounded-lg"},ue={class:"flex items-center justify-between p-4 border rounded-lg"},pe={class:"space-y-4"},ge={class:"flex items-center justify-between border-b pb-2"},ce={key:0,class:"space-y-4"},fe={class:"flex flex-col gap-2"},be={class:"flex flex-col gap-2"},ve={class:"flex flex-col gap-2"},_e={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},Ge={__name:"Edit",props:{brand:{type:Object,required:!0}},setup(w){const o=w,t=L({_method:"PUT",name:o.brand.name||"",slug:o.brand.slug||"",description:o.brand.description||"",main_image:null,gallery_images:[],website:o.brand.website||"",is_active:o.brand.is_active??!0,is_featured:o.brand.is_featured??!1,sort_order:o.brand.sort_order||0,meta_title:o.brand.meta_title||"",meta_description:o.brand.meta_description||"",meta_keywords:o.brand.meta_keywords||"",remove_main_image:!1,remove_gallery_images:[]}),b=x(o.brand.main_image_url||null),v=x([]),g=x(o.brand.gallery_images_urls||[]),_=x(!1),I=()=>{t.name&&!t.slug&&(t.slug=t.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},B=n=>{const e=n.files[0];if(e){t.main_image=e,t.remove_main_image=!1;const a=new FileReader;a.onload=i=>{b.value=i.target.result},a.readAsDataURL(e)}},M=()=>{t.main_image=null,t.remove_main_image=!0,b.value=null},F=n=>{Array.from(n.files).forEach(a=>{if(a){t.gallery_images.push(a);const i=new FileReader;i.onload=V=>{v.value.push(V.target.result)},i.readAsDataURL(a)}})},h=n=>{if(n<g.value.length)t.remove_gallery_images.push(g.value[n]),g.value.splice(n,1);else{const e=n-g.value.length;t.gallery_images.splice(e,1),v.value.splice(e,1)}},j=O(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Brands",href:y.index.url()},{title:`Edit: ${o.brand.name}`,href:y.edit.url(o.brand.id)}]);function z(){t.post(y.update.url(o.brand.id),{preserveScroll:!0,forceFormData:!0})}function G(){P.visit(y.index.url())}return(n,e)=>(u(),m(S,null,[r(l(A),{title:`Edit: ${w.brand.name}`},null,8,["title"]),r(T,{title:`Edit: ${w.brand.name}`,breadcrumbs:j.value},{default:D(()=>[s("div",q,[s("div",H,[s("form",{onSubmit:R(z,["prevent"]),class:"flex flex-col gap-6"},[s("div",K,[e[18]||(e[18]=s("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),s("div",W,[s("div",J,[e[11]||(e[11]=s("label",{for:"name",class:"text-sm font-medium"},[N(" Brand Name "),s("span",{class:"text-red-500"},"*")],-1)),r(l(f),{id:"name",modelValue:l(t).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(t).name=a),placeholder:"Enter brand name...",class:p([{"p-invalid":l(t).errors.name},"w-full"]),"aria-describedby":"name-help",onBlur:I},null,8,["modelValue","class"]),r(d,{message:l(t).errors.name},null,8,["message"]),e[12]||(e[12]=s("small",{id:"name-help",class:"text-muted-foreground"}," Enter a unique brand name ",-1))]),s("div",Q,[e[13]||(e[13]=s("label",{for:"slug",class:"text-sm font-medium"},"Slug",-1)),r(l(f),{id:"slug",modelValue:l(t).slug,"onUpdate:modelValue":e[1]||(e[1]=a=>l(t).slug=a),placeholder:"Auto-generated from name",class:p([{"p-invalid":l(t).errors.slug},"w-full"]),"aria-describedby":"slug-help"},null,8,["modelValue","class"]),r(d,{message:l(t).errors.slug},null,8,["message"]),e[14]||(e[14]=s("small",{id:"slug-help",class:"text-muted-foreground"}," URL-friendly identifier (auto-generated if left empty) ",-1))])]),s("div",X,[e[15]||(e[15]=s("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),r(l($),{id:"description",modelValue:l(t).description,"onUpdate:modelValue":e[2]||(e[2]=a=>l(t).description=a),placeholder:"Enter brand description...",class:p([{"p-invalid":l(t).errors.description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),r(d,{message:l(t).errors.description},null,8,["message"])]),s("div",Y,[s("div",Z,[e[16]||(e[16]=s("label",{for:"website",class:"text-sm font-medium"},"Website",-1)),r(l(f),{id:"website",modelValue:l(t).website,"onUpdate:modelValue":e[3]||(e[3]=a=>l(t).website=a),placeholder:"https://example.com",class:p([{"p-invalid":l(t).errors.website},"w-full"])},null,8,["modelValue","class"]),r(d,{message:l(t).errors.website},null,8,["message"])]),s("div",ee,[e[17]||(e[17]=s("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),r(l(f),{id:"sort_order",modelValue:l(t).sort_order,"onUpdate:modelValue":e[4]||(e[4]=a=>l(t).sort_order=a),modelModifiers:{number:!0},type:"number",placeholder:"0",class:p([{"p-invalid":l(t).errors.sort_order},"w-full"])},null,8,["modelValue","class"]),r(d,{message:l(t).errors.sort_order},null,8,["message"])])])]),s("div",le,[e[23]||(e[23]=s("h3",{class:"text-lg font-semibold border-b pb-2"},"Images",-1)),s("div",se,[s("div",null,[e[19]||(e[19]=s("label",{class:"text-sm font-medium mb-2 block"},"Main Image",-1)),b.value?(u(),m("div",te,[s("img",{src:b.value,alt:"Main Image Preview",class:"h-24 w-24 object-cover rounded-lg border"},null,8,ae),r(l(c),{type:"button",icon:"pi pi-times",severity:"danger",size:"small",rounded:"",class:"absolute -top-2 -right-2",onClick:M})])):k("",!0),r(l(E),{mode:"basic",name:"main_image",accept:"image/*",maxFileSize:5e6,chooseLabel:"Choose Main Image",auto:!1,onSelect:B,class:"w-50"}),e[20]||(e[20]=s("small",{class:"text-muted-foreground"},"Max size: 5MB",-1)),r(d,{message:l(t).errors.main_image},null,8,["message"])]),s("div",null,[e[21]||(e[21]=s("label",{class:"text-sm font-medium mb-2 block"},"Gallery Images",-1)),g.value.length>0||v.value.length>0?(u(),m("div",re,[(u(!0),m(S,null,U(g.value,(a,i)=>(u(),m("div",{key:`existing-${i}`,class:"relative"},[s("img",{src:a,alt:"Gallery preview",class:"h-24 w-24 object-cover rounded-lg border"},null,8,oe),r(l(c),{type:"button",icon:"pi pi-times",severity:"danger",size:"small",rounded:"",class:"absolute -top-2 -right-2",onClick:V=>h(i)},null,8,["onClick"])]))),128)),(u(!0),m(S,null,U(v.value,(a,i)=>(u(),m("div",{key:`new-${i}`,class:"relative"},[s("img",{src:a,alt:"Gallery preview",class:"h-24 w-24 object-cover rounded-lg border"},null,8,ie),r(l(c),{type:"button",icon:"pi pi-times",severity:"danger",size:"small",rounded:"",class:"absolute -top-2 -right-2",onClick:V=>h(g.value.length+i)},null,8,["onClick"])]))),128))])):k("",!0),r(l(E),{mode:"basic",name:"gallery",accept:"image/*",maxFileSize:5e6,chooseLabel:"Add Gallery Image",auto:!1,onSelect:F,multiple:!0,class:"w-50"}),e[22]||(e[22]=s("small",{class:"text-muted-foreground"},"Max size: 5MB per image",-1)),r(d,{message:l(t).errors.gallery_images},null,8,["message"])])])]),s("div",de,[e[26]||(e[26]=s("h3",{class:"text-lg font-semibold border-b pb-2"},"Settings",-1)),s("div",ne,[s("div",me,[e[24]||(e[24]=s("div",null,[s("label",{class:"text-sm font-medium"},"Active"),s("p",{class:"text-xs text-muted-foreground"},"Brand is active")],-1)),r(l(C),{modelValue:l(t).is_active,"onUpdate:modelValue":e[5]||(e[5]=a=>l(t).is_active=a)},null,8,["modelValue"])]),s("div",ue,[e[25]||(e[25]=s("div",null,[s("label",{class:"text-sm font-medium"},"Featured"),s("p",{class:"text-xs text-muted-foreground"},"Show as featured brand")],-1)),r(l(C),{modelValue:l(t).is_featured,"onUpdate:modelValue":e[6]||(e[6]=a=>l(t).is_featured=a)},null,8,["modelValue"])])])]),s("div",pe,[s("div",ge,[e[27]||(e[27]=s("h3",{class:"text-lg font-semibold"},"SEO Settings",-1)),r(l(c),{label:_.value?"Hide SEO":"Show SEO",icon:"pi pi-cog",severity:"secondary",text:"",onClick:e[7]||(e[7]=a=>_.value=!_.value),type:"button"},null,8,["label"])]),_.value?(u(),m("div",ce,[s("div",fe,[e[28]||(e[28]=s("label",{for:"meta_title",class:"text-sm font-medium"},"Meta Title",-1)),r(l(f),{id:"meta_title",modelValue:l(t).meta_title,"onUpdate:modelValue":e[8]||(e[8]=a=>l(t).meta_title=a),placeholder:"SEO meta title",class:p([{"p-invalid":l(t).errors.meta_title},"w-full"])},null,8,["modelValue","class"]),r(d,{message:l(t).errors.meta_title},null,8,["message"])]),s("div",be,[e[29]||(e[29]=s("label",{for:"meta_description",class:"text-sm font-medium"},"Meta Description",-1)),r(l($),{id:"meta_description",modelValue:l(t).meta_description,"onUpdate:modelValue":e[9]||(e[9]=a=>l(t).meta_description=a),placeholder:"SEO meta description",class:p([{"p-invalid":l(t).errors.meta_description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),r(d,{message:l(t).errors.meta_description},null,8,["message"])]),s("div",ve,[e[30]||(e[30]=s("label",{for:"meta_keywords",class:"text-sm font-medium"},"Meta Keywords",-1)),r(l(f),{id:"meta_keywords",modelValue:l(t).meta_keywords,"onUpdate:modelValue":e[10]||(e[10]=a=>l(t).meta_keywords=a),placeholder:"keyword1, keyword2, keyword3",class:p([{"p-invalid":l(t).errors.meta_keywords},"w-full"])},null,8,["modelValue","class"]),r(d,{message:l(t).errors.meta_keywords},null,8,["message"])])])):k("",!0)]),s("div",_e,[r(l(c),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:G}),r(l(c),{type:"submit",label:"Update Brand",icon:"pi pi-check",loading:l(t).processing,disabled:l(t).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{Ge as default};
