import{S as c,_ as X}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DlZa9EoC.js";import{r,c as b,q as Y,a as m,o as n,b as a,d as o,h as Z,e as p,f as s,k as L,j as B,t as F,v as D,F as ee,p as v}from"./app-nZ486FH-.js";import{s as te,a as x}from"./index-DQDGo8Jd.js";import{s as N}from"./index-TtdGbCEO.js";import{s as le}from"./index-BpaVQjfu.js";import{s as se}from"./index-C_efGWwB.js";import{_ as A}from"./DeleteConfirmationModal-v-pXwbCw.js";import"./index-CHK9YDbT.js";import"./useForwardExpose-DRgSMGS6.js";import"./VisuallyHidden-Ctde3iQv.js";import"./RovingFocusGroup-BJ6ex-50.js";import"./createLucideIcon-IGbS4iJz.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-DDdz4gGK.js";import"./index-wUJh2Se0.js";import"./index-BGmOkUyG.js";import"./index-za1w8YqQ.js";import"./index-D29InjjQ.js";import"./index-C7B-TJjG.js";import"./index-Dkdyiujs.js";import"./index-DcpomhCc.js";import"./index-D-YufhEa.js";import"./index-BQZpKMO_.js";const ae={class:"flex flex-col gap-6 p-6"},oe={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},ie={class:"w-full sm:w-auto search-input-wrapper"},re={class:"flex gap-2"},ne={class:"relative inline-block"},ue={key:1,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center shadow-lg border-2 border-white",style:{"min-width":"1.25rem"}},de={class:"data-table-container"},ce={class:"overflow-x-auto"},me={key:0,class:"text-center py-12"},pe={class:"flex items-center h-full"},ve={class:"text-sm text-gray-600"},fe={class:"flex items-center h-full"},ge={class:"font-medium text-gray-900"},he={class:"flex items-center gap-3"},ye=["onClick"],be=["onClick"],xe=["onClick"],ze={__name:"Index",props:{scentFamilies:{type:Array,default:()=>[]}},setup(R){const C=R,w=r(""),i=r([]),P=r(0),_=r(10),f=r(!1),u=r(!1),g=r(null),h=r(""),y=r(!1),d=r(!1),$=b(()=>{if(!w.value)return C.scentFamilies;const t=w.value.toLowerCase();return C.scentFamilies.filter(e=>e.name.toLowerCase().includes(t))}),U=b(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Scent Families",href:c.index.url()}]),E=t=>P.value*_.value+t+1,M=t=>{P.value=t.page,_.value=t.rows},T=t=>{v.visit(c.show.url(t))},j=t=>{v.visit(c.edit.url(t))},I=(t,e)=>{g.value=t,h.value=e,f.value=!0,u.value=!1},q=()=>{g.value&&(u.value=!0,v.delete(c.destroy.url(g.value),{preserveScroll:!0,onSuccess:()=>{u.value=!1,f.value=!1,g.value=null,h.value=""},onError:()=>{u.value=!1},onFinish:()=>{u.value=!1}}))},K=()=>{f.value=!1,g.value=null,h.value="",u.value=!1},O=b(()=>h.value?`Are you sure you want to delete "${h.value}"?`:"Are you sure you want to delete this scent family?"),z=()=>{v.visit(c.create.url())},G=t=>{v.post(c.toggleStatus.url(t),{},{preserveScroll:!0})},H=()=>{i.value.length!==0&&(y.value=!0,d.value=!1)},J=()=>{if(i.value.length===0)return;d.value=!0;const t=i.value.map(e=>e.id);v.post(c.bulkDelete.url(),{ids:t},{preserveScroll:!0,onSuccess:()=>{d.value=!1,y.value=!1,i.value=[]},onError:()=>{d.value=!1},onFinish:()=>{d.value=!1}})},Q=()=>{y.value=!1,d.value=!1},W=b(()=>{const t=i.value.length;return t===0?"":`Are you sure you want to delete ${t} ${t===1?"scent family":"scent families"}?`}),V=b(()=>i.value&&i.value.length>0);return(t,e)=>{const k=Y("tooltip");return n(),m(ee,null,[a(o(Z),{title:"Scent Families"}),a(X,{title:"Scent Families",breadcrumbs:U.value},{default:p(()=>[s("div",ae,[s("div",oe,[s("div",ie,[e[4]||(e[4]=s("i",{class:"pi pi-search search-icon"},null,-1)),a(o(le),{modelValue:w.value,"onUpdate:modelValue":e[0]||(e[0]=l=>w.value=l),placeholder:"Search",class:"w-full"},null,8,["modelValue"])]),s("div",re,[s("div",ne,[V.value?(n(),L(o(N),{key:0,label:"Delete Selected",icon:"pi pi-trash",severity:"danger",outlined:"",class:"flex-shrink-0",onClick:H})):B("",!0),V.value?(n(),m("span",ue,F(i.value.length),1)):B("",!0)]),a(o(N),{label:"Add Scent Family",icon:"pi pi-plus",severity:"primary",onClick:z,class:"flex-shrink-0"})])]),s("div",de,[s("div",ce,[$.value.length===0?(n(),m("div",me,[...e[5]||(e[5]=[s("i",{class:"pi pi-inbox text-4xl text-gray-400 mb-3"},null,-1),s("p",{class:"text-gray-500"},"No scent families found",-1)])])):(n(),L(o(te),{key:1,value:$.value,paginator:!0,rows:_.value,rowsPerPageOptions:[5,10,20,50],selection:i.value,"onUpdate:selection":e[1]||(e[1]=l=>i.value=l),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:"{first} to {last} of {totalRecords}",class:"p-datatable-sm",stripedRows:"",dataKey:"id",globalFilterFields:["name"],onPage:M},{default:p(()=>[a(o(x),{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(o(x),{header:"#",style:{width:"60px"}},{body:p(l=>[s("div",pe,[s("span",ve,F(E(l.index)),1)])]),_:1}),a(o(x),{field:"name",header:"Scent Family Name",sortable:!0},{body:p(l=>[s("div",fe,[s("span",ge,F(l.data.name),1)])]),_:1}),a(o(x),{field:"status",header:"Status",sortable:!0,sortField:"status",style:{width:"120px"}},{body:p(l=>[a(o(se),{modelValue:l.data.status,"onUpdate:modelValue":S=>G(l.data.id)},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(o(x),{header:"Actions",style:{width:"100px"}},{body:p(l=>[s("div",he,[D((n(),m("button",{onClick:S=>T(l.data.id),class:"text-gray-600 cursor-pointer"},[...e[6]||(e[6]=[s("i",{class:"pi pi-eye text-sm"},null,-1)])],8,ye)),[[k,"View",void 0,{top:!0}]]),D((n(),m("button",{onClick:S=>j(l.data.id),class:"text-blue-600 cursor-pointer"},[...e[7]||(e[7]=[s("i",{class:"pi pi-pencil text-sm"},null,-1)])],8,be)),[[k,"Edit",void 0,{top:!0}]]),D((n(),m("button",{onClick:S=>I(l.data.id,l.data.name),class:"text-red-600 cursor-pointer"},[...e[8]||(e[8]=[s("i",{class:"pi pi-trash text-sm"},null,-1)])],8,xe)),[[k,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","rows","selection"]))])])]),a(A,{visible:f.value,"onUpdate:visible":e[2]||(e[2]=l=>f.value=l),title:"Delete Scent Family",message:O.value,loading:u.value,onConfirm:q,onCancel:K},null,8,["visible","message","loading"]),a(A,{visible:y.value,"onUpdate:visible":e[3]||(e[3]=l=>y.value=l),title:"Delete Scent Families",message:W.value,loading:d.value,onConfirm:J,onCancel:Q},null,8,["visible","message","loading"])]),_:1},8,["breadcrumbs"])],64)}}};export{ze as default};
