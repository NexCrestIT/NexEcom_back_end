import{c as b,_ as $}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CY8uq29N.js";import{c as y,z as D,a as _,o as m,b as r,d as a,h as j,e as d,f as t,t as i,k as F,i as l,F as R,p as v}from"./app-CSoXAXzJ.js";import{s as T,a as o}from"./index-C1o9GEFB.js";import{s as h}from"./index-DUysgjrk.js";import{s as p}from"./index-rgAG_kXB.js";import"./index-L5D_ktCJ.js";import"./useForwardExpose-DJAZBMAY.js";import"./VisuallyHidden-D64JTJ7n.js";import"./RovingFocusGroup-Cj9w1ZFH.js";import"./createLucideIcon-D0VFtXE2.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-BhB5gOq0.js";import"./index-DBsg8l4Z.js";import"./index-MKqwDtgB.js";import"./index-WnAgxEih.js";import"./index-ClsTdmJU.js";import"./index-4rJ_OANk.js";import"./index-CbxO-fR3.js";import"./index-yX7v5s_a.js";import"./index-BG-nKjgy.js";import"./index-05MKcTrA.js";const E={class:"flex flex-col gap-4 p-6"},I={class:"grid grid-cols-1 md:grid-cols-4 gap-4"},z={class:"rounded-lg border border-border bg-card p-4"},B={class:"text-2xl font-bold"},O={class:"rounded-lg border border-border bg-card p-4"},U={class:"text-2xl font-bold text-green-600"},H={class:"rounded-lg border border-border bg-card p-4"},K={class:"text-2xl font-bold text-red-600"},M={class:"rounded-lg border border-border bg-card p-4"},q={class:"text-2xl font-bold text-blue-600"},G={class:"rounded-lg border border-border bg-card"},J={class:"p-4"},Q={key:0,class:"text-center py-8 text-muted-foreground"},W={class:"flex items-center gap-3"},X={key:0,class:"h-10 w-10 rounded-full overflow-hidden border-2 border-border"},Y=["src","alt","onError"],Z={key:1,class:"flex h-10 w-10 items-center justify-center rounded-full bg-primary text-primary-foreground font-semibold"},P={class:"font-medium"},ee={class:"text-sm text-muted-foreground"},te={class:"flex gap-2"},we={__name:"Index",props:{customers:{type:[Array,Object],default:()=>[]},statistics:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})}},setup(c){const u=c,g=y(()=>Array.isArray(u.customers)?u.customers:u.customers&&u.customers.data?u.customers.data:[]),x=y(()=>[{title:"Dashboard",href:D("dashboard")},{title:"Customers",href:b.index.url()}]),C=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",k=s=>s?"success":"danger",w=s=>s?"Active":"Inactive",N=s=>s?"success":"warning",A=s=>s?"Verified":"Not Verified",S=s=>{v.visit(b.show.url(s))},L=s=>{confirm("Are you sure you want to delete this customer?")&&v.delete(b.destroy.url(s),{preserveScroll:!0,onSuccess:()=>{}})},V=s=>{v.post(b.toggleStatus.url(s),{},{preserveScroll:!0,onSuccess:()=>{}})};return(s,n)=>(m(),_(R,null,[r(a(j),{title:"Customers"}),r($,{title:"Customers",breadcrumbs:x.value},{default:d(()=>[t("div",E,[t("div",I,[t("div",z,[n[0]||(n[0]=t("div",{class:"text-sm text-muted-foreground"},"Total Customers",-1)),t("div",B,i(c.statistics.total||0),1)]),t("div",O,[n[1]||(n[1]=t("div",{class:"text-sm text-muted-foreground"},"Active",-1)),t("div",U,i(c.statistics.active||0),1)]),t("div",H,[n[2]||(n[2]=t("div",{class:"text-sm text-muted-foreground"},"Inactive",-1)),t("div",K,i(c.statistics.inactive||0),1)]),t("div",M,[n[3]||(n[3]=t("div",{class:"text-sm text-muted-foreground"},"Verified",-1)),t("div",q,i(c.statistics.verified||0),1)])]),t("div",G,[t("div",J,[n[4]||(n[4]=t("div",{class:"flex items-center justify-between mb-4"},[t("h2",{class:"text-lg font-semibold"},"Customers List")],-1)),g.value.length===0?(m(),_("div",Q," No customers found ")):(m(),F(a(T),{key:1,value:g.value,paginator:!0,rows:10,rowsPerPageOptions:[5,10,20,50],paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:"{first} to {last} of {totalRecords}",class:"p-datatable-sm",stripedRows:"",dataKey:"id"},{default:d(()=>[r(a(o),{field:"id",header:"ID",sortable:!0,style:{width:"80px"}}),r(a(o),{header:"Customer",sortable:!0,sortField:"first_name"},{body:d(e=>[t("div",W,[e.data.avatar_url?(m(),_("div",X,[t("img",{src:e.data.avatar_url,alt:e.data.name,class:"h-full w-full object-cover",onError:f=>f.target.parentElement.innerHTML=`<div class='flex h-full w-full items-center justify-center bg-primary text-primary-foreground font-semibold'>${(e.data.first_name||e.data.name||"C")[0]?.toUpperCase()||"C"}</div>`},null,40,Y)])):(m(),_("div",Z,i((e.data.first_name||e.data.name||"C")[0]?.toUpperCase()||"C"),1)),t("div",null,[t("p",P,i(e.data.first_name||e.data.last_name?`${e.data.first_name||""} ${e.data.last_name||""}`.trim():e.data.name),1),t("p",ee,i(e.data.email||e.data.phone_number||"N/A"),1)])])]),_:1}),r(a(o),{field:"first_name",header:"First Name",sortable:!0},{body:d(e=>[l(i(e.data.first_name||"N/A"),1)]),_:1}),r(a(o),{field:"last_name",header:"Last Name",sortable:!0},{body:d(e=>[l(i(e.data.last_name||"N/A"),1)]),_:1}),r(a(o),{field:"email",header:"Email",sortable:!0},{body:d(e=>[l(i(e.data.email||"N/A"),1)]),_:1}),r(a(o),{field:"phone_number",header:"Phone",sortable:!0},{body:d(e=>[l(i(e.data.phone_number||"N/A"),1)]),_:1}),r(a(o),{field:"city",header:"City",sortable:!0},{body:d(e=>[l(i(e.data.city||"N/A"),1)]),_:1}),r(a(o),{field:"state",header:"State / County",sortable:!0},{body:d(e=>[l(i(e.data.state||"N/A"),1)]),_:1}),r(a(o),{field:"postcode",header:"Postcode",sortable:!0},{body:d(e=>[l(i(e.data.postcode||"N/A"),1)]),_:1}),r(a(o),{field:"country",header:"Country",sortable:!0},{body:d(e=>[l(i(e.data.country||"N/A"),1)]),_:1}),r(a(o),{header:"Status",sortable:!0,sortField:"is_active"},{body:d(e=>[r(a(h),{value:w(e.data.is_active),severity:k(e.data.is_active)},null,8,["value","severity"])]),_:1}),r(a(o),{header:"Verified",sortable:!0,sortField:"is_verified"},{body:d(e=>[r(a(h),{value:A(e.data.is_verified),severity:N(e.data.is_verified)},null,8,["value","severity"])]),_:1}),r(a(o),{field:"created_at",header:"Registered",sortable:!0},{body:d(e=>[l(i(C(e.data.created_at)),1)]),_:1}),r(a(o),{header:"Actions",style:{width:"200px"}},{body:d(e=>[t("div",te,[r(a(p),{icon:"pi pi-eye",severity:"info",size:"small",outlined:"",onClick:f=>S(e.data.id)},null,8,["onClick"]),r(a(p),{icon:e.data.is_active?"pi pi-ban":"pi pi-check",severity:e.data.is_active?"warning":"success",size:"small",outlined:"",onClick:f=>V(e.data.id)},null,8,["icon","severity","onClick"]),r(a(p),{icon:"pi pi-trash",severity:"danger",size:"small",outlined:"",onClick:f=>L(e.data.id)},null,8,["onClick"])])]),_:1})]),_:1},8,["value"]))])])])]),_:1},8,["breadcrumbs"])],64))}};export{we as default};
