import{u as F,r as O,c as S,m as T,w as U,a as p,o as c,b as o,d as l,h as D,e as I,f as t,g as z,j as w,i as E,n as d,F as C,l as R,p as J}from"./app-CsZvk_OI.js";import{_ as n}from"./InputError.vue_vue_type_script_setup_true_lang-DzfEWuDR.js";import{O as y,_ as H}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CfI51x6S.js";import{s as v}from"./index-BYFlyxjJ.js";import{s as u}from"./index-1iZKgu-n.js";import{s as $}from"./index-CyRwIvf3.js";import{s as q}from"./index-pi8ETc4C.js";import{s as K}from"./index-1Hj31dAS.js";import"./index-BqkInGoY.js";import"./useForwardExpose-CrRxdZzL.js";import"./VisuallyHidden-DGCGjvMv.js";import"./RovingFocusGroup-CF8qITZY.js";import"./createLucideIcon-3cHpo18T.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-Cy9aq3qC.js";import"./index-B7hmJaUz.js";import"./index-DLpk5Ssm.js";import"./index-Bzv5bibZ.js";import"./index-D_ZR9ELe.js";const G={class:"flex flex-col gap-4 p-6"},P={class:"rounded-lg border border-border bg-card p-6"},Q={class:"space-y-4"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X={class:"flex flex-col gap-2"},Y={class:"flex flex-col gap-2"},Z={class:"flex flex-col gap-2"},ee={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},le={class:"flex flex-col gap-2"},se={class:"flex flex-col gap-2"},te={key:0,class:"space-y-4"},oe={class:"space-y-3"},ae={class:"flex-1"},ie={class:"flex-1"},re={key:1,class:"space-y-4"},de={class:"flex flex-col gap-2"},ne={class:"space-y-4"},ue={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},me={class:"flex items-center justify-between p-4 border rounded-lg"},pe={class:"flex items-center justify-between p-4 border rounded-lg"},ce={class:"space-y-4"},fe={class:"flex items-center justify-between border-b pb-2"},ve={key:0,class:"space-y-4"},be={class:"flex flex-col gap-2"},ge={class:"flex flex-col gap-2"},xe={class:"flex flex-col gap-2"},ye={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},De={__name:"Edit",props:{option:{type:Object,required:!0}},setup(V){const i=V,s=F({name:i.option.name||"",slug:i.option.slug||"",description:i.option.description||"",type:i.option.type||"text",value:"",is_active:i.option.is_active??!0,is_required:i.option.is_required??!1,sort_order:i.option.sort_order||0,meta_title:i.option.meta_title||"",meta_description:i.option.meta_description||"",meta_keywords:i.option.meta_keywords||""}),r=O([]),f=O(!1);(i.option.meta_title||i.option.meta_description||i.option.meta_keywords)&&(f.value=!0);const M=[{label:"Text",value:"text"},{label:"Select",value:"select"},{label:"Multiselect",value:"multiselect"},{label:"Radio",value:"radio"},{label:"Checkbox",value:"checkbox"}],b=S(()=>["select","multiselect","radio","checkbox"].includes(s.type)),_=()=>{if(i.option.value)try{const m=typeof i.option.value=="string"?JSON.parse(i.option.value):i.option.value;Array.isArray(m)?r.value=m.map(e=>({value:e.value||e,label:e.label||e.value||e})):(r.value=[],s.value=i.option.value)}catch{r.value=[],s.value=i.option.value}else r.value=[],s.value=""};T(()=>{_()}),U(()=>i.option,()=>{_()},{deep:!0}),U(()=>s.type,(m,e)=>{b.value?e&&!["select","multiselect","radio","checkbox"].includes(e)&&_():(r.value=[],s.value="")});const N=()=>{s.name&&!s.slug&&(s.slug=s.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},h=()=>{r.value.push({value:"",label:""})},j=m=>{r.value.splice(m,1),g()},g=()=>{b.value&&r.value.length>0?s.value=JSON.stringify(r.value):s.value=""},L=S(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Options",href:y.index.url()},{title:`Edit: ${i.option.name}`,href:y.edit.url(i.option.id)}]);function A(){g(),s.post(y.update.url(i.option.id),{preserveScroll:!0})}function B(){J.visit(y.index.url())}return(m,e)=>(c(),p(C,null,[o(l(D),{title:`Edit: ${V.option.name}`},null,8,["title"]),o(H,{title:`Edit: ${V.option.name}`,breadcrumbs:L.value},{default:I(()=>[t("div",G,[t("div",P,[t("form",{onSubmit:z(A,["prevent"]),class:"flex flex-col gap-6"},[t("div",Q,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),t("div",W,[t("div",X,[e[12]||(e[12]=t("label",{for:"name",class:"text-sm font-medium"},[E(" Option Name "),t("span",{class:"text-red-500"},"*")],-1)),o(l(u),{id:"name",modelValue:l(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>l(s).name=a),placeholder:"Enter option name...",class:d([{"p-invalid":l(s).errors.name},"w-full"]),"aria-describedby":"name-help",onBlur:N},null,8,["modelValue","class"]),o(n,{message:l(s).errors.name},null,8,["message"]),e[13]||(e[13]=t("small",{id:"name-help",class:"text-muted-foreground"}," Enter a unique option name ",-1))]),t("div",Y,[e[14]||(e[14]=t("label",{for:"slug",class:"text-sm font-medium"},"Slug",-1)),o(l(u),{id:"slug",modelValue:l(s).slug,"onUpdate:modelValue":e[1]||(e[1]=a=>l(s).slug=a),placeholder:"Auto-generated from name",class:d([{"p-invalid":l(s).errors.slug},"w-full"]),"aria-describedby":"slug-help"},null,8,["modelValue","class"]),o(n,{message:l(s).errors.slug},null,8,["message"]),e[15]||(e[15]=t("small",{id:"slug-help",class:"text-muted-foreground"}," URL-friendly identifier (auto-generated if left empty) ",-1))])]),t("div",Z,[e[16]||(e[16]=t("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),o(l($),{id:"description",modelValue:l(s).description,"onUpdate:modelValue":e[2]||(e[2]=a=>l(s).description=a),placeholder:"Enter option description...",class:d([{"p-invalid":l(s).errors.description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),o(n,{message:l(s).errors.description},null,8,["message"])]),t("div",ee,[t("div",le,[e[17]||(e[17]=t("label",{for:"type",class:"text-sm font-medium"},[E(" Type "),t("span",{class:"text-red-500"},"*")],-1)),o(l(K),{id:"type",modelValue:l(s).type,"onUpdate:modelValue":e[3]||(e[3]=a=>l(s).type=a),options:M,optionLabel:"label",optionValue:"value",placeholder:"Select Type",class:d([{"p-invalid":l(s).errors.type},"w-full"])},null,8,["modelValue","class"]),o(n,{message:l(s).errors.type},null,8,["message"])]),t("div",se,[e[18]||(e[18]=t("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),o(l(u),{id:"sort_order",modelValue:l(s).sort_order,"onUpdate:modelValue":e[4]||(e[4]=a=>l(s).sort_order=a),modelModifiers:{number:!0},type:"number",placeholder:"0",class:d([{"p-invalid":l(s).errors.sort_order},"w-full"])},null,8,["modelValue","class"]),o(n,{message:l(s).errors.sort_order},null,8,["message"])])])]),b.value?(c(),p("div",te,[e[22]||(e[22]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Option Values",-1)),t("div",oe,[(c(!0),p(C,null,R(r.value,(a,k)=>(c(),p("div",{key:k,class:"flex gap-2 items-end"},[t("div",ae,[e[20]||(e[20]=t("label",{class:"text-sm font-medium"},"Value",-1)),o(l(u),{modelValue:a.value,"onUpdate:modelValue":x=>a.value=x,placeholder:"Enter value...",class:"w-full",onInput:g},null,8,["modelValue","onUpdate:modelValue"])]),t("div",ie,[e[21]||(e[21]=t("label",{class:"text-sm font-medium"},"Label (Optional)",-1)),o(l(u),{modelValue:a.label,"onUpdate:modelValue":x=>a.label=x,placeholder:"Enter label...",class:"w-full",onInput:g},null,8,["modelValue","onUpdate:modelValue"])]),o(l(v),{type:"button",icon:"pi pi-trash",severity:"danger",outlined:"",onClick:x=>j(k)},null,8,["onClick"])]))),128)),o(l(v),{type:"button",label:"Add Value",icon:"pi pi-plus",severity:"secondary",outlined:"",onClick:h})])])):w("",!0),b.value?w("",!0):(c(),p("div",re,[e[24]||(e[24]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Default Value",-1)),t("div",de,[e[23]||(e[23]=t("label",{for:"value",class:"text-sm font-medium"},"Value",-1)),o(l(u),{id:"value",modelValue:l(s).value,"onUpdate:modelValue":e[5]||(e[5]=a=>l(s).value=a),placeholder:"Enter default value...",class:d([{"p-invalid":l(s).errors.value},"w-full"])},null,8,["modelValue","class"]),o(n,{message:l(s).errors.value},null,8,["message"])])])),t("div",ne,[e[27]||(e[27]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Settings",-1)),t("div",ue,[t("div",me,[e[25]||(e[25]=t("div",null,[t("label",{class:"text-sm font-medium"},"Active"),t("p",{class:"text-xs text-muted-foreground"},"Option is active")],-1)),o(l(q),{modelValue:l(s).is_active,"onUpdate:modelValue":e[6]||(e[6]=a=>l(s).is_active=a)},null,8,["modelValue"])]),t("div",pe,[e[26]||(e[26]=t("div",null,[t("label",{class:"text-sm font-medium"},"Required"),t("p",{class:"text-xs text-muted-foreground"},"Option is required")],-1)),o(l(q),{modelValue:l(s).is_required,"onUpdate:modelValue":e[7]||(e[7]=a=>l(s).is_required=a)},null,8,["modelValue"])])])]),t("div",ce,[t("div",fe,[e[28]||(e[28]=t("h3",{class:"text-lg font-semibold"},"SEO Settings",-1)),o(l(v),{label:f.value?"Hide SEO":"Show SEO",icon:"pi pi-cog",severity:"secondary",text:"",onClick:e[8]||(e[8]=a=>f.value=!f.value),type:"button"},null,8,["label"])]),f.value?(c(),p("div",ve,[t("div",be,[e[29]||(e[29]=t("label",{for:"meta_title",class:"text-sm font-medium"},"Meta Title",-1)),o(l(u),{id:"meta_title",modelValue:l(s).meta_title,"onUpdate:modelValue":e[9]||(e[9]=a=>l(s).meta_title=a),placeholder:"SEO meta title",class:d([{"p-invalid":l(s).errors.meta_title},"w-full"])},null,8,["modelValue","class"]),o(n,{message:l(s).errors.meta_title},null,8,["message"])]),t("div",ge,[e[30]||(e[30]=t("label",{for:"meta_description",class:"text-sm font-medium"},"Meta Description",-1)),o(l($),{id:"meta_description",modelValue:l(s).meta_description,"onUpdate:modelValue":e[10]||(e[10]=a=>l(s).meta_description=a),placeholder:"SEO meta description",class:d([{"p-invalid":l(s).errors.meta_description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),o(n,{message:l(s).errors.meta_description},null,8,["message"])]),t("div",xe,[e[31]||(e[31]=t("label",{for:"meta_keywords",class:"text-sm font-medium"},"Meta Keywords",-1)),o(l(u),{id:"meta_keywords",modelValue:l(s).meta_keywords,"onUpdate:modelValue":e[11]||(e[11]=a=>l(s).meta_keywords=a),placeholder:"keyword1, keyword2, keyword3",class:d([{"p-invalid":l(s).errors.meta_keywords},"w-full"])},null,8,["modelValue","class"]),o(n,{message:l(s).errors.meta_keywords},null,8,["message"])])])):w("",!0)]),t("div",ye,[o(l(v),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:B}),o(l(v),{type:"submit",label:"Update Option",icon:"pi pi-check",loading:l(s).processing,disabled:l(s).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{De as default};
