import{u as $,c as w,r as B,w as N,a as i,o as r,b as o,d as t,h as q,e as D,f as l,g as E,i as b,n as f,j as x,k as L,F as C,l as T}from"./app-nZ486FH-.js";import{_ as n}from"./InputError.vue_vue_type_script_setup_true_lang-BA97093D.js";import{A as V,_ as M}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DlZa9EoC.js";import{s as y}from"./index-TtdGbCEO.js";import{s as m}from"./index-BpaVQjfu.js";import{s as z}from"./index-BmdAbA5q.js";import{s as O}from"./index-CdsES4qx.js";import{s as g}from"./index-C_efGWwB.js";import"./index-CHK9YDbT.js";import"./useForwardExpose-DRgSMGS6.js";import"./VisuallyHidden-Ctde3iQv.js";import"./RovingFocusGroup-BJ6ex-50.js";import"./createLucideIcon-IGbS4iJz.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-D-YufhEa.js";import"./index-wUJh2Se0.js";import"./index-DDdz4gGK.js";import"./index-BGmOkUyG.js";import"./index-za1w8YqQ.js";const R={class:"flex flex-col gap-6 p-6"},G={class:"rounded-lg border border-border bg-card p-6"},H={class:"space-y-4"},J={class:"flex flex-col gap-2"},K={class:"flex flex-col gap-2"},P={class:"flex flex-col gap-2"},Q={class:"space-y-4"},W={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},X={class:"flex flex-col gap-2"},Y={class:"flex flex-col gap-2"},Z={class:"flex flex-col gap-4"},I={class:"flex items-center justify-between"},ee={class:"text-sm font-medium"},le={key:0,class:"text-red-500"},te={key:0,class:"p-4 bg-blue-50 border border-blue-200 rounded-lg"},se={key:1},ae={key:0,class:"space-y-3"},oe={class:"flex items-start justify-between gap-2"},re={class:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3"},de={class:"flex flex-col gap-1"},ie={class:"flex flex-col gap-1"},ue={class:"flex flex-col gap-1"},ne={class:"flex items-center gap-2"},me={key:1,class:"text-sm text-gray-500 italic p-4 bg-gray-50 rounded-lg"},pe={class:"flex flex-col gap-2"},ce={class:"space-y-4"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},be={class:"flex items-center justify-between p-4 border rounded-lg"},ge={class:"flex items-center justify-between p-4 border rounded-lg"},ve={class:"flex items-center justify-between p-4 border rounded-lg"},xe={class:"flex items-center justify-between p-4 border rounded-lg"},Ve={class:"flex justify-end gap-2"},Oe={__name:"Create",setup(ye){const s=$({name:"",slug:"",description:"",type:"text",is_required:!1,is_filterable:!0,is_searchable:!0,is_active:!0,default_value:"",validation_rules:null,values:[],sort_order:0}),v=w(()=>["select","multiselect"].includes(s.type)),U=[{label:"Text",value:"text"},{label:"Number",value:"number"},{label:"Select",value:"select"},{label:"Multiselect",value:"multiselect"},{label:"Boolean",value:"boolean"},{label:"Date",value:"date"},{label:"Textarea",value:"textarea"}],u=B([]);N(()=>s.type,c=>{["select","multiselect"].includes(c)||(u.value=[],s.values=[])});const A=()=>{u.value.push({value:"",display_value:"",color_code:"",is_active:!0,sort_order:u.value.length}),p()},k=c=>{u.value.splice(c,1),p()},p=()=>{s.values=u.value.map((c,e)=>({...c,sort_order:e}))},S=()=>{s.name&&!s.slug&&(s.slug=s.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},h=w(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Attributes",href:V.index.url()},{title:"Create Attribute",href:V.create.url()}]);function j(){s.post(V.store.url(),{preserveScroll:!0,forceFormData:!1,onSuccess:()=>{s.reset()}})}function F(){s.get(V.index.url())}return(c,e)=>(r(),i(C,null,[o(t(q),{title:"Create Attribute"}),o(M,{title:"Create Attribute",breadcrumbs:h.value},{default:D(()=>[l("div",R,[l("div",G,[l("form",{onSubmit:E(j,["prevent"]),class:"flex flex-col gap-6"},[l("div",H,[e[15]||(e[15]=l("h3",{class:"text-lg font-semibold"},"Basic Information",-1)),l("div",J,[e[10]||(e[10]=l("label",{for:"name",class:"text-sm font-medium"},[b(" Attribute Name "),l("span",{class:"text-red-500"},"*")],-1)),o(t(m),{id:"name",modelValue:t(s).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(s).name=a),placeholder:"Enter attribute name...",class:f([{"p-invalid":t(s).errors.name},"w-full"]),"aria-describedby":"name-help",onBlur:S},null,8,["modelValue","class"]),o(n,{message:t(s).errors.name},null,8,["message"]),e[11]||(e[11]=l("small",{id:"name-help",class:"text-muted-foreground"}," Enter a unique attribute name ",-1))]),l("div",K,[e[12]||(e[12]=l("label",{for:"slug",class:"text-sm font-medium"},"Slug",-1)),o(t(m),{id:"slug",modelValue:t(s).slug,"onUpdate:modelValue":e[1]||(e[1]=a=>t(s).slug=a),placeholder:"Auto-generated from name",class:f([{"p-invalid":t(s).errors.slug},"w-full"]),"aria-describedby":"slug-help"},null,8,["modelValue","class"]),o(n,{message:t(s).errors.slug},null,8,["message"]),e[13]||(e[13]=l("small",{id:"slug-help",class:"text-muted-foreground"}," URL-friendly identifier (auto-generated if left empty) ",-1))]),l("div",P,[e[14]||(e[14]=l("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),o(t(z),{id:"description",modelValue:t(s).description,"onUpdate:modelValue":e[2]||(e[2]=a=>t(s).description=a),placeholder:"Enter attribute description...",class:f([{"p-invalid":t(s).errors.description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),o(n,{message:t(s).errors.description},null,8,["message"])])]),l("div",Q,[e[26]||(e[26]=l("h3",{class:"text-lg font-semibold"},"Configuration",-1)),l("div",W,[l("div",X,[e[16]||(e[16]=l("label",{for:"type",class:"text-sm font-medium"},[b(" Type "),l("span",{class:"text-red-500"},"*")],-1)),o(t(O),{id:"type",modelValue:t(s).type,"onUpdate:modelValue":e[3]||(e[3]=a=>t(s).type=a),options:U,optionLabel:"label",optionValue:"value",placeholder:"Select Type",class:f([{"p-invalid":t(s).errors.type},"w-full"])},null,8,["modelValue","class"]),o(n,{message:t(s).errors.type},null,8,["message"])]),l("div",Y,[e[17]||(e[17]=l("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),o(t(m),{id:"sort_order",modelValue:t(s).sort_order,"onUpdate:modelValue":e[4]||(e[4]=a=>t(s).sort_order=a),modelModifiers:{number:!0},type:"number",placeholder:"0",class:f([{"p-invalid":t(s).errors.sort_order},"w-full"])},null,8,["modelValue","class"]),o(n,{message:t(s).errors.sort_order},null,8,["message"])])]),l("div",Z,[l("div",I,[l("label",ee,[e[18]||(e[18]=b(" Attribute Values ",-1)),v.value?(r(),i("span",le,"*")):x("",!0)]),v.value?(r(),L(t(y),{key:0,label:"Add Value",icon:"pi pi-plus",size:"small",onClick:A,type:"button"})):x("",!0)]),v.value?x("",!0):(r(),i("div",te,[...e[19]||(e[19]=[l("p",{class:"text-sm text-blue-800"},[l("i",{class:"pi pi-info-circle mr-2"}),b(' Select "Select" or "Multiselect" as the attribute type to add values. ')],-1)])])),v.value?(r(),i("div",se,[u.value.length>0?(r(),i("div",ae,[(r(!0),i(C,null,T(u.value,(a,_)=>(r(),i("div",{key:_,class:"p-4 border rounded-lg space-y-3"},[l("div",oe,[l("div",re,[l("div",de,[e[20]||(e[20]=l("label",{class:"text-xs font-medium text-gray-600"},[b("Value "),l("span",{class:"text-red-500"},"*")],-1)),o(t(m),{modelValue:a.value,"onUpdate:modelValue":d=>a.value=d,placeholder:"e.g., Red, Small, etc.",class:"w-full",onInput:p},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ie,[e[21]||(e[21]=l("label",{class:"text-xs font-medium text-gray-600"},"Display Value",-1)),o(t(m),{modelValue:a.display_value,"onUpdate:modelValue":d=>a.display_value=d,placeholder:"Optional display text",class:"w-full",onInput:p},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ue,[e[22]||(e[22]=l("label",{class:"text-xs font-medium text-gray-600"},"Color Code",-1)),o(t(m),{modelValue:a.color_code,"onUpdate:modelValue":d=>a.color_code=d,placeholder:"#FF0000",class:"w-full",maxlength:"7",onInput:p},null,8,["modelValue","onUpdate:modelValue"])]),l("div",ne,[o(t(g),{modelValue:a.is_active,"onUpdate:modelValue":[d=>a.is_active=d,p]},null,8,["modelValue","onUpdate:modelValue"]),e[23]||(e[23]=l("label",{class:"text-xs text-gray-600"},"Active",-1))])]),o(t(y),{icon:"pi pi-trash",severity:"danger",text:"",rounded:"",onClick:d=>k(_),type:"button"},null,8,["onClick"])])]))),128))])):(r(),i("div",me,' No values added. Click "Add Value" button above to create attribute values. ')),o(n,{message:t(s).errors.values},null,8,["message"]),e[24]||(e[24]=l("small",{class:"text-muted-foreground"}," Add values for select/multiselect type attributes. Each value can have a display name and color code. ",-1))])):x("",!0)]),l("div",pe,[e[25]||(e[25]=l("label",{for:"default_value",class:"text-sm font-medium"},"Default Value",-1)),o(t(m),{id:"default_value",modelValue:t(s).default_value,"onUpdate:modelValue":e[5]||(e[5]=a=>t(s).default_value=a),placeholder:"Enter default value (optional)",class:f([{"p-invalid":t(s).errors.default_value},"w-full"])},null,8,["modelValue","class"]),o(n,{message:t(s).errors.default_value},null,8,["message"])])]),l("div",ce,[e[31]||(e[31]=l("h3",{class:"text-lg font-semibold"},"Settings",-1)),l("div",fe,[l("div",be,[e[27]||(e[27]=l("div",null,[l("label",{class:"text-sm font-medium"},"Required"),l("p",{class:"text-xs text-muted-foreground"},"Attribute is required")],-1)),o(t(g),{modelValue:t(s).is_required,"onUpdate:modelValue":e[6]||(e[6]=a=>t(s).is_required=a)},null,8,["modelValue"])]),l("div",ge,[e[28]||(e[28]=l("div",null,[l("label",{class:"text-sm font-medium"},"Filterable"),l("p",{class:"text-xs text-muted-foreground"},"Can be used in filters")],-1)),o(t(g),{modelValue:t(s).is_filterable,"onUpdate:modelValue":e[7]||(e[7]=a=>t(s).is_filterable=a)},null,8,["modelValue"])]),l("div",ve,[e[29]||(e[29]=l("div",null,[l("label",{class:"text-sm font-medium"},"Searchable"),l("p",{class:"text-xs text-muted-foreground"},"Can be searched")],-1)),o(t(g),{modelValue:t(s).is_searchable,"onUpdate:modelValue":e[8]||(e[8]=a=>t(s).is_searchable=a)},null,8,["modelValue"])]),l("div",xe,[e[30]||(e[30]=l("div",null,[l("label",{class:"text-sm font-medium"},"Active"),l("p",{class:"text-xs text-muted-foreground"},"Attribute is active")],-1)),o(t(g),{modelValue:t(s).is_active,"onUpdate:modelValue":e[9]||(e[9]=a=>t(s).is_active=a)},null,8,["modelValue"])])])]),l("div",Ve,[o(t(y),{label:"Cancel",severity:"secondary",outlined:"",onClick:F,type:"button"}),o(t(y),{label:"Create Attribute",type:"submit",loading:t(s).processing},null,8,["loading"])])],32)])])]),_:1},8,["breadcrumbs"])],64))}};export{Oe as default};
