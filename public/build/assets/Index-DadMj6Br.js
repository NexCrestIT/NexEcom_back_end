import{r as u,c as x,q as ne,a as v,o as n,b as i,d as o,h as de,e as d,f as s,s as pe,k as P,j as C,t as b,v as $,i as ce,F as ve,p as f}from"./app-Cn6IejnY.js";import{O as c,_ as fe}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CpsvYbYf.js";import{s as me,a as g}from"./index-CKljO2JX.js";import{s as A}from"./index-bfg_XAYG.js";import{s as ye}from"./index-cgrTJExZ.js";import{s as j}from"./index-B1UQifbm.js";import{s as be}from"./index-CBxa_VPz.js";import{s as F}from"./index-D_mTPtjg.js";import{s as ge}from"./index-C7JM5_Ot.js";import{_ as B}from"./DeleteConfirmationModal-CurhxZsU.js";import"./index-BDoZbogT.js";import"./useForwardExpose-CIteLJoH.js";import"./VisuallyHidden-L5y81zSm.js";import"./RovingFocusGroup-CaLZOjRo.js";import"./createLucideIcon-U8lhmqUJ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-2D8v8uAD.js";import"./index-VTumJSU4.js";import"./index-CwfaN-Nq.js";import"./index-DBJfqB88.js";import"./index-BLX5XkD2.js";import"./index-B1F1boKX.js";import"./index-DBTNRQsU.js";import"./index-CYEWI1OG.js";import"./index-DruUjrsY.js";import"./index-BI9BsUEE.js";const xe={class:"flex flex-col gap-6 p-6"},he={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},we={class:"w-full sm:w-auto search-input-wrapper"},_e={class:"flex gap-2"},ke={class:"relative inline-block"},Ve={key:1,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center shadow-lg border-2 border-white",style:{"min-width":"1.25rem"}},Se={class:"relative inline-block"},qe={key:0,class:"absolute -top-1 -right-1 bg-green-500 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center shadow-lg border-2 border-white",style:{"min-width":"1.25rem"}},Ce={class:"data-table-container"},Ae={class:"overflow-x-auto"},Re={key:0,class:"text-center py-12"},De={class:"flex items-center h-full"},Oe={class:"text-sm text-gray-600"},$e={class:"flex flex-col"},Fe={class:"font-medium text-gray-900"},Ue={key:0,class:"text-xs text-gray-500 truncate max-w-xs"},Le={class:"flex items-center gap-3"},Te=["onClick"],Ne=["onClick"],Pe=["onClick"],je={class:"flex flex-col gap-6"},Be={class:"flex flex-col gap-2"},Me={class:"flex flex-col gap-2"},Ee={class:"flex flex-col gap-2"},Ie={key:0,class:"text-sm text-gray-600 bg-blue-50 p-3 rounded-lg"},Ke={class:"flex gap-2 justify-end"},gt={__name:"Index",props:{options:{type:Array,default:()=>[]},statistics:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({is_active:null,is_required:null,type:null,search:null})}},setup(M){const r=M,h=u(r.filters?.search||""),p=u([]),U=u(0),D=u(10),w=u(!1),a=u({isActive:r.filters?.is_active?Array.isArray(r.filters.is_active)?r.filters.is_active:[r.filters.is_active]:[],isRequired:r.filters?.is_required?Array.isArray(r.filters.is_required)?r.filters.is_required:[r.filters.is_required]:[],type:r.filters?.type?Array.isArray(r.filters.type)?r.filters.type:[r.filters.type]:[]}),E=[{label:"Active",value:!0},{label:"Inactive",value:!1}],I=[{label:"Required",value:!0},{label:"Optional",value:!1}],K=[{label:"Text",value:"text"},{label:"Select",value:"select"},{label:"Multiselect",value:"multiselect"},{label:"Radio",value:"radio"},{label:"Checkbox",value:"checkbox"}],_=u(!1),m=u(!1),k=u(null),V=u(""),S=u(!1),y=u(!1),L=x(()=>r.options),z=x(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Options",href:c.index.url()}]),G=l=>U.value*D.value+l+1,H=l=>{U.value=l.page,D.value=l.rows},J=l=>{f.visit(c.show.url(l))},Q=l=>{f.visit(c.edit.url(l))},W=(l,e)=>{k.value=l,V.value=e,_.value=!0,m.value=!1},X=()=>{k.value&&(m.value=!0,f.delete(c.destroy.url(k.value),{preserveScroll:!0,onSuccess:()=>{m.value=!1,_.value=!1,k.value=null,V.value=""},onError:()=>{m.value=!1},onFinish:()=>{m.value=!1}}))},Y=()=>{_.value=!1,k.value=null,V.value="",m.value=!1},Z=x(()=>V.value?`Are you sure you want to delete "${V.value}"?`:"Are you sure you want to delete this option?"),ee=()=>{f.visit(c.create.url())},te=l=>{f.post(c.toggleStatus.url(l),{},{preserveScroll:!0})},le=l=>{f.post(c.toggleRequired.url(l),{},{preserveScroll:!0})},q=x(()=>{let l=0;return a.value.isActive&&a.value.isActive.length>0&&l++,a.value.isRequired&&a.value.isRequired.length>0&&l++,a.value.type&&a.value.type.length>0&&l++,l}),T=(l=!0)=>{const e={};a.value.isActive&&a.value.isActive.length>0&&(e.is_active=a.value.isActive),a.value.isRequired&&a.value.isRequired.length>0&&(e.is_required=a.value.isRequired),a.value.type&&a.value.type.length>0&&(e.type=a.value.type),h.value&&(e.search=h.value),f.get(c.index.url(),e,{preserveState:!0,preserveScroll:!0,onSuccess:()=>{l&&(w.value=!1)}})},se=()=>{a.value={isActive:[],isRequired:[],type:[]},h.value="",f.get(c.index.url(),{},{preserveState:!0,preserveScroll:!0,onSuccess:()=>{w.value=!1}})},ie=()=>{p.value.length!==0&&(S.value=!0,y.value=!1)},ae=()=>{if(p.value.length===0)return;y.value=!0;const l=p.value.map(e=>e.id);f.post(c.bulkDelete.url(),{ids:l},{preserveScroll:!0,onSuccess:()=>{y.value=!1,S.value=!1,p.value=[]},onError:()=>{y.value=!1},onFinish:()=>{y.value=!1}})},oe=()=>{S.value=!1,y.value=!1},re=x(()=>{const l=p.value.length;return l===0?"":`Are you sure you want to delete ${l} ${l===1?"option":"options"}?`}),N=x(()=>p.value&&p.value.length>0),ue=l=>({text:"info",select:"success",multiselect:"warning",radio:"help",checkbox:"secondary"})[l]||"secondary";return(l,e)=>{const O=ne("tooltip");return n(),v(ve,null,[i(o(de),{title:"Options"}),i(fe,{title:"Options",breadcrumbs:z.value},{default:d(()=>[s("div",xe,[s("div",he,[s("div",we,[e[9]||(e[9]=s("i",{class:"pi pi-search search-icon"},null,-1)),i(o(ye),{modelValue:h.value,"onUpdate:modelValue":e[0]||(e[0]=t=>h.value=t),placeholder:"Search",class:"w-full",onKeyup:pe(T,["enter"])},null,8,["modelValue"])]),s("div",_e,[s("div",ke,[N.value?(n(),P(o(A),{key:0,label:"Delete Selected",icon:"pi pi-trash",severity:"danger",outlined:"",class:"flex-shrink-0",onClick:ie})):C("",!0),N.value?(n(),v("span",Ve,b(p.value.length),1)):C("",!0)]),s("div",Se,[i(o(A),{label:"Filters",icon:"pi pi-filter",severity:"secondary",outlined:"",class:"flex-shrink-0",onClick:e[1]||(e[1]=t=>w.value=!0)}),q.value>0?(n(),v("span",qe,b(q.value),1)):C("",!0)]),i(o(A),{label:"Add Option",icon:"pi pi-plus",severity:"primary",onClick:ee,class:"flex-shrink-0"})])]),s("div",Ce,[s("div",Ae,[L.value.length===0?(n(),v("div",Re,[...e[10]||(e[10]=[s("i",{class:"pi pi-inbox text-4xl text-gray-400 mb-3"},null,-1),s("p",{class:"text-gray-500"},"No options found",-1)])])):(n(),P(o(me),{key:1,value:L.value,paginator:!0,rows:D.value,rowsPerPageOptions:[5,10,20,50],selection:p.value,"onUpdate:selection":e[2]||(e[2]=t=>p.value=t),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:"{first} to {last} of {totalRecords}",class:"p-datatable-sm",stripedRows:"",dataKey:"id",globalFilterFields:["name","description"],onPage:H},{default:d(()=>[i(o(g),{selectionMode:"multiple",headerStyle:"width: 3rem"}),i(o(g),{header:"#",style:{width:"60px"}},{body:d(t=>[s("div",De,[s("span",Oe,b(G(t.index)),1)])]),_:1}),i(o(g),{field:"name",header:"Option Name",sortable:!0},{body:d(t=>[s("div",$e,[s("span",Fe,b(t.data.name),1),t.data.description?(n(),v("span",Ue,b(t.data.description),1)):C("",!0)])]),_:1}),i(o(g),{field:"type",header:"Type",sortable:!0,style:{width:"120px"}},{body:d(t=>[i(o(ge),{value:t.data.type,severity:ue(t.data.type)},null,8,["value","severity"])]),_:1}),i(o(g),{field:"is_active",header:"Status",sortable:!0,sortField:"is_active",style:{width:"120px"}},{body:d(t=>[i(o(j),{modelValue:t.data.is_active,"onUpdate:modelValue":R=>te(t.data.id)},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),i(o(g),{field:"is_required",header:"Required",sortable:!0,sortField:"is_required",style:{width:"120px"}},{body:d(t=>[i(o(j),{modelValue:t.data.is_required,"onUpdate:modelValue":R=>le(t.data.id)},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),i(o(g),{header:"Actions",style:{width:"100px"}},{body:d(t=>[s("div",Le,[$((n(),v("button",{onClick:R=>J(t.data.id),class:"text-gray-600 cursor-pointer"},[...e[11]||(e[11]=[s("i",{class:"pi pi-eye text-sm"},null,-1)])],8,Te)),[[O,"View",void 0,{top:!0}]]),$((n(),v("button",{onClick:R=>Q(t.data.id),class:"text-blue-600 cursor-pointer"},[...e[12]||(e[12]=[s("i",{class:"pi pi-pencil text-sm"},null,-1)])],8,Ne)),[[O,"Edit",void 0,{top:!0}]]),$((n(),v("button",{onClick:R=>W(t.data.id,t.data.name),class:"text-red-600 cursor-pointer"},[...e[13]||(e[13]=[s("i",{class:"pi pi-trash text-sm"},null,-1)])],8,Pe)),[[O,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","rows","selection"]))])])]),i(B,{visible:_.value,"onUpdate:visible":e[3]||(e[3]=t=>_.value=t),title:"Delete Option",message:Z.value,loading:m.value,onConfirm:X,onCancel:Y},null,8,["visible","message","loading"]),i(B,{visible:S.value,"onUpdate:visible":e[4]||(e[4]=t=>S.value=t),title:"Delete Options",message:re.value,loading:y.value,onConfirm:ae,onCancel:oe},null,8,["visible","message","loading"]),i(o(be),{visible:w.value,"onUpdate:visible":e[8]||(e[8]=t=>w.value=t),position:"right",class:"w-full sm:w-96",modal:!0,dismissable:!0},{header:d(()=>[...e[14]||(e[14]=[s("div",{class:"flex items-center justify-between w-full pr-8"},[s("h2",{class:"text-xl font-semibold"},"Filters")],-1)])]),footer:d(()=>[s("div",Ke,[i(o(A),{label:"Reset",severity:"secondary",outlined:"",onClick:se}),i(o(A),{label:"Apply Filters",severity:"primary",onClick:T})])]),default:d(()=>[s("div",je,[s("div",Be,[e[15]||(e[15]=s("label",{class:"text-sm font-medium text-gray-700"},"Status",-1)),i(o(F),{modelValue:a.value.isActive,"onUpdate:modelValue":e[5]||(e[5]=t=>a.value.isActive=t),options:E,optionLabel:"label",optionValue:"value",placeholder:"Select Status",class:"w-full",display:"chip",showClear:!0},null,8,["modelValue"])]),s("div",Me,[e[16]||(e[16]=s("label",{class:"text-sm font-medium text-gray-700"},"Required",-1)),i(o(F),{modelValue:a.value.isRequired,"onUpdate:modelValue":e[6]||(e[6]=t=>a.value.isRequired=t),options:I,optionLabel:"label",optionValue:"value",placeholder:"Select Required",class:"w-full",display:"chip",showClear:!0},null,8,["modelValue"])]),s("div",Ee,[e[17]||(e[17]=s("label",{class:"text-sm font-medium text-gray-700"},"Type",-1)),i(o(F),{modelValue:a.value.type,"onUpdate:modelValue":e[7]||(e[7]=t=>a.value.type=t),options:K,optionLabel:"label",optionValue:"value",placeholder:"Select Type",class:"w-full",display:"chip",showClear:!0},null,8,["modelValue"])]),q.value>0?(n(),v("div",Ie,[e[18]||(e[18]=s("i",{class:"pi pi-info-circle mr-2"},null,-1)),ce(" "+b(q.value)+" "+b(q.value===1?"filter":"filters")+" active ",1)])):C("",!0)])]),_:1},8,["visible"])]),_:1},8,["breadcrumbs"])],64)}}};export{gt as default};
