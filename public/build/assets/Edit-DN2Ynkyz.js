import{u as j,r as _,c as G,a as f,o as g,b as o,d as s,h as P,e as M,f as l,g as N,i as O,n,j as w,F as R,p as D}from"./app-Cn6IejnY.js";import{_ as a}from"./InputError.vue_vue_type_script_setup_true_lang-B8nZ11WT.js";import{a as b,_ as L}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CpsvYbYf.js";import{s as y}from"./index-bfg_XAYG.js";import{s as c}from"./index-cgrTJExZ.js";import{s as V}from"./index-Z4L0azH-.js";import{s as k}from"./index-B1UQifbm.js";import{s as S}from"./index-BUmff3jq.js";import"./index-BDoZbogT.js";import"./useForwardExpose-CIteLJoH.js";import"./VisuallyHidden-L5y81zSm.js";import"./RovingFocusGroup-CaLZOjRo.js";import"./createLucideIcon-U8lhmqUJ.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-DruUjrsY.js";import"./index-CYEWI1OG.js";const z={class:"flex flex-col gap-4 p-6"},A={class:"rounded-lg border border-border bg-card p-6"},J={class:"space-y-4"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},T={class:"flex flex-col gap-2"},H={class:"flex flex-col gap-2"},K={class:"flex flex-col gap-2"},Q={class:"flex flex-col gap-2"},W={class:"space-y-4"},X={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Y={class:"flex flex-col gap-2"},Z={key:0,class:"mt-4"},ee={class:"relative inline-block"},le=["src"],se={class:"flex flex-col gap-2"},te={key:0,class:"mt-4"},oe={class:"relative inline-block"},ie=["src"],re={class:"space-y-4"},ae={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ne={class:"flex items-center justify-between p-4 border rounded-lg"},de={class:"flex items-center justify-between p-4 border rounded-lg"},me={class:"space-y-4"},ue={class:"flex items-center justify-between border-b pb-2"},ce={key:0,class:"space-y-4"},pe={class:"flex flex-col gap-2"},fe={class:"flex flex-col gap-2"},ge={class:"flex flex-col gap-2"},be={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},Ge={__name:"Edit",props:{collection:{type:Object,required:!0}},setup(v){const r=v,t=j({name:r.collection.name||"",slug:r.collection.slug||"",description:r.collection.description||"",image:null,banner:null,is_active:r.collection.is_active??!0,is_featured:r.collection.is_featured??!1,sort_order:r.collection.sort_order||0,meta_title:r.collection.meta_title||"",meta_description:r.collection.meta_description||"",meta_keywords:r.collection.meta_keywords||""}),d=_(r.collection.image_url||null),m=_(r.collection.banner_url||null),u=_(!1);(r.collection.meta_title||r.collection.meta_description||r.collection.meta_keywords)&&(u.value=!0);const C=()=>{t.name&&!t.slug&&(t.slug=t.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))},E=p=>{const e=p.files[0];if(e){t.image=e;const i=new FileReader;i.onload=x=>{d.value=x.target.result},i.readAsDataURL(e)}},U=p=>{const e=p.files[0];if(e){t.banner=e;const i=new FileReader;i.onload=x=>{m.value=x.target.result},i.readAsDataURL(e)}},h=()=>{t.image=null,r.collection.image_url?d.value=r.collection.image_url:d.value=null},F=()=>{t.banner=null,r.collection.banner_url?m.value=r.collection.banner_url:m.value=null},B=G(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Collections",href:b.index.url()},{title:`Edit: ${r.collection.name}`,href:b.edit.url(r.collection.id)}]);function I(){t.post(b.update.url(r.collection.id),{preserveScroll:!0,forceFormData:!0})}function $(){D.visit(b.index.url())}return(p,e)=>(g(),f(R,null,[o(s(P),{title:`Edit: ${v.collection.name}`},null,8,["title"]),o(L,{title:`Edit: ${v.collection.name}`,breadcrumbs:B.value},{default:M(()=>[l("div",z,[l("div",A,[l("form",{onSubmit:N(I,["prevent"]),class:"flex flex-col gap-6"},[l("div",J,[e[16]||(e[16]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),l("div",q,[l("div",T,[e[10]||(e[10]=l("label",{for:"name",class:"text-sm font-medium"},[O(" Collection Name "),l("span",{class:"text-red-500"},"*")],-1)),o(s(c),{id:"name",modelValue:s(t).name,"onUpdate:modelValue":e[0]||(e[0]=i=>s(t).name=i),placeholder:"Enter collection name...",class:n([{"p-invalid":s(t).errors.name},"w-full"]),"aria-describedby":"name-help",onBlur:C},null,8,["modelValue","class"]),o(a,{message:s(t).errors.name},null,8,["message"]),e[11]||(e[11]=l("small",{id:"name-help",class:"text-muted-foreground"}," Enter a unique collection name ",-1))]),l("div",H,[e[12]||(e[12]=l("label",{for:"slug",class:"text-sm font-medium"},"Slug",-1)),o(s(c),{id:"slug",modelValue:s(t).slug,"onUpdate:modelValue":e[1]||(e[1]=i=>s(t).slug=i),placeholder:"Auto-generated from name",class:n([{"p-invalid":s(t).errors.slug},"w-full"]),"aria-describedby":"slug-help"},null,8,["modelValue","class"]),o(a,{message:s(t).errors.slug},null,8,["message"]),e[13]||(e[13]=l("small",{id:"slug-help",class:"text-muted-foreground"}," URL-friendly identifier (auto-generated if left empty) ",-1))])]),l("div",K,[e[14]||(e[14]=l("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),o(s(V),{id:"description",modelValue:s(t).description,"onUpdate:modelValue":e[2]||(e[2]=i=>s(t).description=i),placeholder:"Enter collection description...",class:n([{"p-invalid":s(t).errors.description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),o(a,{message:s(t).errors.description},null,8,["message"])]),l("div",Q,[e[15]||(e[15]=l("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),o(s(c),{id:"sort_order",modelValue:s(t).sort_order,"onUpdate:modelValue":e[3]||(e[3]=i=>s(t).sort_order=i),modelModifiers:{number:!0},type:"number",placeholder:"0",class:n([{"p-invalid":s(t).errors.sort_order},"w-full"])},null,8,["modelValue","class"]),o(a,{message:s(t).errors.sort_order},null,8,["message"])])]),l("div",W,[e[23]||(e[23]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Images",-1)),l("div",X,[l("div",Y,[e[18]||(e[18]=l("label",{class:"text-sm font-medium"},"Collection Image",-1)),o(s(S),{mode:"basic",name:"image",accept:"image/*",maxFileSize:2048e3,onSelect:E,chooseLabel:"Choose Image",class:"w-full"}),o(a,{message:s(t).errors.image},null,8,["message"]),e[19]||(e[19]=l("small",{class:"text-muted-foreground"}," Upload collection image (Max: 2MB, Formats: JPEG, PNG, JPG, GIF, SVG) ",-1)),d.value?(g(),f("div",Z,[l("div",ee,[l("img",{src:d.value,alt:"Image Preview",class:"w-32 h-32 object-contain border rounded-lg"},null,8,le),l("button",{type:"button",onClick:h,class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600"},[...e[17]||(e[17]=[l("i",{class:"pi pi-times text-xs"},null,-1)])])])])):w("",!0)]),l("div",se,[e[21]||(e[21]=l("label",{class:"text-sm font-medium"},"Banner Image",-1)),o(s(S),{mode:"basic",name:"banner",accept:"image/*",maxFileSize:512e4,onSelect:U,chooseLabel:"Choose Banner",class:"w-full"}),o(a,{message:s(t).errors.banner},null,8,["message"]),e[22]||(e[22]=l("small",{class:"text-muted-foreground"}," Upload banner image (Max: 5MB, Formats: JPEG, PNG, JPG, GIF, SVG) ",-1)),m.value?(g(),f("div",te,[l("div",oe,[l("img",{src:m.value,alt:"Banner Preview",class:"w-full max-w-xs h-32 object-cover border rounded-lg"},null,8,ie),l("button",{type:"button",onClick:F,class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600"},[...e[20]||(e[20]=[l("i",{class:"pi pi-times text-xs"},null,-1)])])])])):w("",!0)])])]),l("div",re,[e[26]||(e[26]=l("h3",{class:"text-lg font-semibold border-b pb-2"},"Settings",-1)),l("div",ae,[l("div",ne,[e[24]||(e[24]=l("div",null,[l("label",{class:"text-sm font-medium"},"Active"),l("p",{class:"text-xs text-muted-foreground"},"Collection is active")],-1)),o(s(k),{modelValue:s(t).is_active,"onUpdate:modelValue":e[4]||(e[4]=i=>s(t).is_active=i)},null,8,["modelValue"])]),l("div",de,[e[25]||(e[25]=l("div",null,[l("label",{class:"text-sm font-medium"},"Featured"),l("p",{class:"text-xs text-muted-foreground"},"Show as featured collection")],-1)),o(s(k),{modelValue:s(t).is_featured,"onUpdate:modelValue":e[5]||(e[5]=i=>s(t).is_featured=i)},null,8,["modelValue"])])])]),l("div",me,[l("div",ue,[e[27]||(e[27]=l("h3",{class:"text-lg font-semibold"},"SEO Settings",-1)),o(s(y),{label:u.value?"Hide SEO":"Show SEO",icon:"pi pi-cog",severity:"secondary",text:"",onClick:e[6]||(e[6]=i=>u.value=!u.value),type:"button"},null,8,["label"])]),u.value?(g(),f("div",ce,[l("div",pe,[e[28]||(e[28]=l("label",{for:"meta_title",class:"text-sm font-medium"},"Meta Title",-1)),o(s(c),{id:"meta_title",modelValue:s(t).meta_title,"onUpdate:modelValue":e[7]||(e[7]=i=>s(t).meta_title=i),placeholder:"SEO meta title",class:n([{"p-invalid":s(t).errors.meta_title},"w-full"])},null,8,["modelValue","class"]),o(a,{message:s(t).errors.meta_title},null,8,["message"])]),l("div",fe,[e[29]||(e[29]=l("label",{for:"meta_description",class:"text-sm font-medium"},"Meta Description",-1)),o(s(V),{id:"meta_description",modelValue:s(t).meta_description,"onUpdate:modelValue":e[8]||(e[8]=i=>s(t).meta_description=i),placeholder:"SEO meta description",class:n([{"p-invalid":s(t).errors.meta_description},"w-full"]),rows:"3"},null,8,["modelValue","class"]),o(a,{message:s(t).errors.meta_description},null,8,["message"])]),l("div",ge,[e[30]||(e[30]=l("label",{for:"meta_keywords",class:"text-sm font-medium"},"Meta Keywords",-1)),o(s(c),{id:"meta_keywords",modelValue:s(t).meta_keywords,"onUpdate:modelValue":e[9]||(e[9]=i=>s(t).meta_keywords=i),placeholder:"keyword1, keyword2, keyword3",class:n([{"p-invalid":s(t).errors.meta_keywords},"w-full"])},null,8,["modelValue","class"]),o(a,{message:s(t).errors.meta_keywords},null,8,["message"])])])):w("",!0)]),l("div",be,[o(s(y),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:$}),o(s(y),{type:"submit",label:"Update Collection",icon:"pi pi-check",loading:s(t).processing,disabled:s(t).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{Ge as default};
