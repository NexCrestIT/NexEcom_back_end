import{u as E,r as c,c as f,a as v,o as b,b as l,d as s,h as N,e as h,f as t,g as B,i as L,n as u,j as M,v as P,t as x,y as z,F as O,p as A}from"./app-nZ486FH-.js";import{_ as a}from"./InputError.vue_vue_type_script_setup_true_lang-BA97093D.js";import{C as n,_ as R}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DlZa9EoC.js";import{s as p}from"./index-TtdGbCEO.js";import{s as m}from"./index-BpaVQjfu.js";import{s as _}from"./index-BmdAbA5q.js";import{s as j}from"./index-CdsES4qx.js";import{s as y}from"./index-C_efGWwB.js";import{s as G}from"./index-D29InjjQ.js";import{s as T}from"./index-CWG0HDUv.js";import"./index-CHK9YDbT.js";import"./useForwardExpose-DRgSMGS6.js";import"./VisuallyHidden-Ctde3iQv.js";import"./RovingFocusGroup-BJ6ex-50.js";import"./createLucideIcon-IGbS4iJz.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-D-YufhEa.js";import"./index-wUJh2Se0.js";import"./index-DDdz4gGK.js";import"./index-BGmOkUyG.js";import"./index-za1w8YqQ.js";import"./index-DcpomhCc.js";const J={class:"flex flex-col gap-4 p-6"},K={class:"rounded-lg border border-border bg-card p-6"},W={class:"space-y-4"},q={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},H={class:"flex flex-col gap-2"},Q={class:"flex flex-col gap-2"},X={class:"flex flex-col gap-2"},Y={class:"flex flex-col gap-2"},Z={class:"space-y-4"},ee={class:"flex flex-col gap-4"},se={key:0,class:"relative inline-block"},te=["src"],oe={class:"space-y-4"},le={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},re={class:"flex items-center gap-3"},ae={class:"flex items-center gap-3"},ie={class:"flex flex-col gap-2"},de={class:"space-y-4"},ne={class:"space-y-4"},me={class:"flex flex-col gap-2"},ue={class:"text-muted-foreground"},pe={class:"flex flex-col gap-2"},ge={class:"text-muted-foreground"},ce={class:"flex flex-col gap-2"},fe={class:"flex justify-end gap-2 mt-4 pt-4 border-t"},Oe={__name:"Create",props:{parentCategories:{type:Array,default:()=>[]}},setup(V){const C=V,o=E({name:"",slug:"",description:"",parent_id:null,is_active:!0,is_featured:!1,sort_order:0,meta_title:"",meta_description:"",meta_keywords:"",image:null}),i=c(null),d=c(!1),w=f(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Categories",href:n.index.url()},{title:"Create Category",href:n.create.url()}]),S=f(()=>[{id:null,name:"— None (Root Category) —"},...C.parentCategories]),k=g=>{const e=g.files[0];if(e){o.image=e;const r=new FileReader;r.onload=D=>{i.value=D.target.result},r.readAsDataURL(e)}},U=()=>{o.image=null,i.value=null},$=()=>{o.name&&(o.slug=o.name.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/(^-|-$)/g,""))};function F(){o.post(n.store.url(),{preserveScroll:!0,forceFormData:!0,onSuccess:()=>{o.reset(),i.value=null}})}function I(){A.visit(n.index.url())}return(g,e)=>(b(),v(O,null,[l(s(N),{title:"Create Category"}),l(R,{title:"Create Category",breadcrumbs:w.value},{default:h(()=>[t("div",J,[t("div",K,[t("form",{onSubmit:B(F,["prevent"]),class:"flex flex-col gap-6"},[t("div",W,[e[17]||(e[17]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Basic Information",-1)),t("div",q,[t("div",H,[e[11]||(e[11]=t("label",{for:"name",class:"text-sm font-medium"},[L(" Name "),t("span",{class:"text-red-500"},"*")],-1)),l(s(m),{id:"name",modelValue:s(o).name,"onUpdate:modelValue":e[0]||(e[0]=r=>s(o).name=r),placeholder:"Enter category name...",onBlur:$},null,8,["modelValue"]),l(a,{message:s(o).errors.name},null,8,["message"])]),t("div",Q,[e[12]||(e[12]=t("label",{for:"slug",class:"text-sm font-medium"}," Slug ",-1)),l(s(m),{id:"slug",modelValue:s(o).slug,"onUpdate:modelValue":e[1]||(e[1]=r=>s(o).slug=r),placeholder:"category-slug"},null,8,["modelValue"]),e[13]||(e[13]=t("small",{class:"text-muted-foreground"},"Leave empty to auto-generate",-1)),l(a,{message:s(o).errors.slug},null,8,["message"])])]),t("div",X,[e[14]||(e[14]=t("label",{for:"description",class:"text-sm font-medium"},"Description",-1)),l(s(_),{id:"description",modelValue:s(o).description,"onUpdate:modelValue":e[2]||(e[2]=r=>s(o).description=r),placeholder:"Enter category description...",rows:"4",class:u({"p-invalid":s(o).errors.description})},null,8,["modelValue","class"]),l(a,{message:s(o).errors.description},null,8,["message"])]),t("div",Y,[e[15]||(e[15]=t("label",{for:"parent_id",class:"text-sm font-medium"},"Parent Category",-1)),l(s(j),{id:"parent_id",modelValue:s(o).parent_id,"onUpdate:modelValue":e[3]||(e[3]=r=>s(o).parent_id=r),options:S.value,optionLabel:"name",optionValue:"id",placeholder:"Select parent category...",showClear:"",class:"w-full"},null,8,["modelValue","options"]),e[16]||(e[16]=t("small",{class:"text-muted-foreground"},"Leave empty to create a root category",-1)),l(a,{message:s(o).errors.parent_id},null,8,["message"])])]),t("div",Z,[e[19]||(e[19]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Category Image",-1)),t("div",ee,[i.value?(b(),v("div",se,[t("img",{src:i.value,alt:"Preview",class:"h-32 w-32 object-cover rounded-lg border"},null,8,te),l(s(p),{type:"button",icon:"pi pi-times",severity:"danger",size:"small",rounded:"",class:"absolute -top-2 -right-2",onClick:U})])):M("",!0),l(s(T),{mode:"basic",accept:"image/*",maxFileSize:2e6,chooseLabel:"Choose Image",auto:!1,onSelect:k}),e[18]||(e[18]=t("small",{class:"text-muted-foreground"},"Accepted formats: JPEG, PNG, GIF, WebP. Max size: 2MB",-1)),l(a,{message:s(o).errors.image},null,8,["message"])])]),t("div",oe,[e[23]||(e[23]=t("h3",{class:"text-lg font-semibold border-b pb-2"},"Settings",-1)),t("div",le,[t("div",re,[l(s(y),{modelValue:s(o).is_active,"onUpdate:modelValue":e[4]||(e[4]=r=>s(o).is_active=r),inputId:"is_active"},null,8,["modelValue"]),e[20]||(e[20]=t("label",{for:"is_active",class:"text-sm font-medium cursor-pointer"}," Active ",-1))]),t("div",ae,[l(s(y),{modelValue:s(o).is_featured,"onUpdate:modelValue":e[5]||(e[5]=r=>s(o).is_featured=r),inputId:"is_featured"},null,8,["modelValue"]),e[21]||(e[21]=t("label",{for:"is_featured",class:"text-sm font-medium cursor-pointer"}," Featured ",-1))]),t("div",ie,[e[22]||(e[22]=t("label",{for:"sort_order",class:"text-sm font-medium"},"Sort Order",-1)),l(s(G),{id:"sort_order",modelValue:s(o).sort_order,"onUpdate:modelValue":e[6]||(e[6]=r=>s(o).sort_order=r),min:0},null,8,["modelValue"]),l(a,{message:s(o).errors.sort_order},null,8,["message"])])])]),t("div",de,[t("div",{class:"flex items-center gap-2 cursor-pointer border-b pb-2",onClick:e[7]||(e[7]=r=>d.value=!d.value)},[t("i",{class:u(d.value?"pi pi-chevron-down":"pi pi-chevron-right")},null,2),e[24]||(e[24]=t("h3",{class:"text-lg font-semibold"},"SEO Settings",-1)),e[25]||(e[25]=t("span",{class:"text-sm text-muted-foreground"},"(optional)",-1))]),P(t("div",ne,[t("div",me,[e[26]||(e[26]=t("label",{for:"meta_title",class:"text-sm font-medium"},"Meta Title",-1)),l(s(m),{id:"meta_title",modelValue:s(o).meta_title,"onUpdate:modelValue":e[8]||(e[8]=r=>s(o).meta_title=r),placeholder:"SEO title..."},null,8,["modelValue"]),t("small",ue,x(s(o).meta_title?.length||0)+"/255 characters ",1),l(a,{message:s(o).errors.meta_title},null,8,["message"])]),t("div",pe,[e[27]||(e[27]=t("label",{for:"meta_description",class:"text-sm font-medium"},"Meta Description",-1)),l(s(_),{id:"meta_description",modelValue:s(o).meta_description,"onUpdate:modelValue":e[9]||(e[9]=r=>s(o).meta_description=r),placeholder:"SEO description...",rows:"3",class:u({"p-invalid":s(o).errors.meta_description})},null,8,["modelValue","class"]),t("small",ge,x(s(o).meta_description?.length||0)+"/500 characters ",1),l(a,{message:s(o).errors.meta_description},null,8,["message"])]),t("div",ce,[e[28]||(e[28]=t("label",{for:"meta_keywords",class:"text-sm font-medium"},"Meta Keywords",-1)),l(s(m),{id:"meta_keywords",modelValue:s(o).meta_keywords,"onUpdate:modelValue":e[10]||(e[10]=r=>s(o).meta_keywords=r),placeholder:"keyword1, keyword2, keyword3..."},null,8,["modelValue"]),l(a,{message:s(o).errors.meta_keywords},null,8,["message"])])],512),[[z,d.value]])]),t("div",fe,[l(s(p),{type:"button",label:"Cancel",severity:"secondary",outlined:"",onClick:I}),l(s(p),{type:"submit",label:"Create Category",icon:"pi pi-check",loading:s(o).processing,disabled:s(o).processing},null,8,["loading","disabled"])])],32)])])]),_:1},8,["breadcrumbs"])],64))}};export{Oe as default};
