import{$ as H,a2 as Q,a as u,o as n,j as i,f as t,H as v,G as k,r as y,c as J,z as K,b as s,d as a,h as W,e as d,t as l,i as O,k as I,v as X,bj as Y,F as Z,p as P}from"./app-CSoXAXzJ.js";import{d as x,_}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CY8uq29N.js";import{s as V}from"./index-rgAG_kXB.js";import{s as C}from"./index-DUysgjrk.js";import{s as ee,a as U}from"./index-C1o9GEFB.js";import{s as F}from"./index-WczQzp9K.js";import{s as M}from"./index-zGor_b7q.js";import"./index-L5D_ktCJ.js";import"./useForwardExpose-DJAZBMAY.js";import"./VisuallyHidden-D64JTJ7n.js";import"./RovingFocusGroup-Cj9w1ZFH.js";import"./createLucideIcon-D0VFtXE2.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-BhB5gOq0.js";import"./index-DBsg8l4Z.js";import"./index-MKqwDtgB.js";import"./index-WnAgxEih.js";import"./index-ClsTdmJU.js";import"./index-4rJ_OANk.js";import"./index-CbxO-fR3.js";import"./index-yX7v5s_a.js";import"./index-BG-nKjgy.js";import"./index-05MKcTrA.js";var te=`
    .p-card {
        background: dt('card.background');
        color: dt('card.color');
        box-shadow: dt('card.shadow');
        border-radius: dt('card.border.radius');
        display: flex;
        flex-direction: column;
    }

    .p-card-caption {
        display: flex;
        flex-direction: column;
        gap: dt('card.caption.gap');
    }

    .p-card-body {
        padding: dt('card.body.padding');
        display: flex;
        flex-direction: column;
        gap: dt('card.body.gap');
    }

    .p-card-title {
        font-size: dt('card.title.font.size');
        font-weight: dt('card.title.font.weight');
    }

    .p-card-subtitle {
        color: dt('card.subtitle.color');
    }
`,re={root:"p-card p-component",header:"p-card-header",body:"p-card-body",caption:"p-card-caption",title:"p-card-title",subtitle:"p-card-subtitle",content:"p-card-content",footer:"p-card-footer"},ae=H.extend({name:"card",style:te,classes:re}),se={name:"BaseCard",extends:Q,style:ae,provide:function(){return{$pcCard:this,$parentInstance:this}}},b={name:"Card",extends:se,inheritAttrs:!1};function de(e,m,p,g,h,f){return n(),u("div",v({class:e.cx("root")},e.ptmi("root")),[e.$slots.header?(n(),u("div",v({key:0,class:e.cx("header")},e.ptm("header")),[k(e.$slots,"header")],16)):i("",!0),t("div",v({class:e.cx("body")},e.ptm("body")),[e.$slots.title||e.$slots.subtitle?(n(),u("div",v({key:0,class:e.cx("caption")},e.ptm("caption")),[e.$slots.title?(n(),u("div",v({key:0,class:e.cx("title")},e.ptm("title")),[k(e.$slots,"title")],16)):i("",!0),e.$slots.subtitle?(n(),u("div",v({key:1,class:e.cx("subtitle")},e.ptm("subtitle")),[k(e.$slots,"subtitle")],16)):i("",!0)],16)):i("",!0),t("div",v({class:e.cx("content")},e.ptm("content")),[k(e.$slots,"content")],16),e.$slots.footer?(n(),u("div",v({key:1,class:e.cx("footer")},e.ptm("footer")),[k(e.$slots,"footer")],16)):i("",!0)],16)],16)}b.render=de;const oe={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},le={class:"flex flex-wrap items-center justify-between gap-4"},ne={class:"space-y-1"},ie={class:"text-lg font-semibold text-gray-900 dark:text-white"},ue={class:"flex items-center gap-3"},me={class:"text-right"},ce={class:"text-xl font-bold text-gray-900 dark:text-white"},ye={class:"grid grid-cols-1 gap-6 lg:grid-cols-3"},be={class:"lg:col-span-2 space-y-6"},ve={class:"space-y-4"},pe={class:"flex items-center justify-between"},ge={key:0,class:"border-t pt-4"},fe={key:1,class:"border-t pt-4 text-sm text-gray-500 dark:text-gray-400"},xe={class:"space-y-4"},he={class:"grid grid-cols-2 gap-4"},ke={class:"mt-1 font-semibold text-gray-900 dark:text-white"},we={key:0,class:"col-span-2"},Se=["href"],$e={class:"border-t pt-4"},Ne={class:"mt-4 space-y-2 border-t pt-4 text-right"},Oe={class:"text-lg font-bold text-gray-900 dark:text-white"},Pe={class:"space-y-4"},Ve={class:"space-y-6"},Ce={class:"space-y-3"},Ue={class:"font-semibold text-gray-900 dark:text-white"},je={class:"font-semibold text-gray-900 dark:text-white"},Ae={class:"font-semibold text-gray-900 dark:text-white"},Re={class:"space-y-2 text-sm"},Be={key:0},De={class:"space-y-3"},ze={class:"font-semibold text-gray-900 dark:text-white"},Ie={key:0},Fe={class:"font-semibold text-gray-900 dark:text-white"},Me={class:"space-y-4"},Te=["max"],mt={__name:"Show",props:{order:{type:Object,required:!0},orderStatuses:{type:Object,default:()=>({})},paymentStatuses:{type:Object,default:()=>({})},nextPossibleStatuses:{type:Object,default:()=>({})},canCancel:{type:Boolean,default:!1},canRefund:{type:Boolean,default:!1},canShip:{type:Boolean,default:!1}},setup(e){const m=e,p=y(""),g=y(""),h=y(m.order.notes||""),f=y(m.order.total_amount),w=y(""),S=y(!1),$=y(!1),j=y(!1),A=y(!1),N=c=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(c),B=c=>c?new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}):"N/A",D=c=>({pending:"warning",completed:"success",cancelled:"danger",processing:"info",shipped:"primary",delivered:"success",returned:"secondary"})[c]||"secondary",z=c=>({pending:"warning",paid:"success",failed:"danger",refunded:"secondary"})[c]||"secondary",T=()=>{p.value&&(S.value=!0,P.post(x.updateStatus.url(m.order.id),{status:p.value,notes:h.value},{onFinish:()=>{S.value=!1,p.value=""}}))},q=()=>{g.value&&($.value=!0,P.post(x.updatePaymentStatus.url(m.order.id),{payment_status:g.value},{onFinish:()=>{$.value=!1,g.value=""}}))},E=()=>{j.value=!0,P.post(x.updateNotes.url(m.order.id),{notes:h.value},{onFinish:()=>{j.value=!1}})},L=()=>{f.value&&(A.value=!0,P.post(x.processRefund.url(m.order.id),{amount:f.value,reason:w.value},{onFinish:()=>{A.value=!1,f.value=m.order.total_amount,w.value=""}}))},G=J(()=>[{title:"Dashboard",href:K("dashboard")},{title:"Orders",href:x.index.url()},{title:m.order.order_number,href:x.show.url(m.order.id)}]);return(c,r)=>(n(),u(Z,null,[s(a(W),{title:`Order ${e.order.order_number}`},null,8,["title"]),s(_,{title:`Order ${e.order.order_number}`,breadcrumbs:G.value},{default:d(()=>[t("div",oe,[t("div",le,[t("div",ne,[r[5]||(r[5]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Order Number",-1)),t("div",ie,l(e.order.order_number),1)]),t("div",ue,[s(a(C),{value:e.orderStatuses[e.order.status]||e.order.status,severity:D(e.order.status)},null,8,["value","severity"]),s(a(C),{value:e.paymentStatuses[e.order.payment_status]||e.order.payment_status,severity:z(e.order.payment_status)},null,8,["value","severity"])]),t("div",me,[r[6]||(r[6]=t("div",{class:"text-sm text-gray-500 dark:text-gray-400"},"Total",-1)),t("div",ce,l(N(e.order.total_amount)),1)])])]),t("div",ye,[t("div",be,[s(a(b),null,{header:d(()=>[...r[7]||(r[7]=[t("div",{class:"bg-gradient-to-r from-blue-50 to-blue-100 p-4 text-blue-900 font-semibold border-b border-blue-200"}," Order Status Management ",-1)])]),content:d(()=>[t("div",ve,[t("div",pe,[t("div",null,[r[8]||(r[8]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Current Status",-1)),s(a(C),{value:e.orderStatuses[e.order.status]||e.order.status,severity:D(e.order.status),class:"mt-2"},null,8,["value","severity"])])]),Object.keys(e.nextPossibleStatuses).length>0?(n(),u("div",ge,[r[9]||(r[9]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Change Status To ",-1)),s(a(F),{modelValue:p.value,"onUpdate:modelValue":r[0]||(r[0]=o=>p.value=o),options:Object.entries(e.nextPossibleStatuses).map(([o,R])=>({label:R,value:o})),"option-label":"label","option-value":"value",placeholder:"Select new status",class:"w-full mb-3"},null,8,["modelValue","options"]),s(a(V),{label:"Update Order Status",icon:"pi pi-check",disabled:!p.value||S.value,loading:S.value,onClick:T,class:"w-full"},null,8,["disabled","loading"])])):i("",!0),Object.keys(e.nextPossibleStatuses).length?i("",!0):(n(),u("div",fe," No status transitions available for this order "))])]),_:1}),s(a(b),null,{header:d(()=>[...r[10]||(r[10]=[t("div",{class:"bg-gradient-to-r from-green-50 to-green-100 p-4 text-green-900 font-semibold border-b border-green-200"}," Payment Information ",-1)])]),content:d(()=>[t("div",xe,[t("div",he,[t("div",null,[r[11]||(r[11]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Payment Method",-1)),t("div",ke,l(e.order.payment_method||"N/A"),1)]),t("div",null,[r[12]||(r[12]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Payment Status",-1)),s(a(C),{value:e.paymentStatuses[e.order.payment_status]||e.order.payment_status,severity:z(e.order.payment_status),class:"mt-1"},null,8,["value","severity"])]),e.order.payment_method==="razorpay"&&e.order.payment_status==="pending"&&e.order.razorpay_order_id?(n(),u("div",we,[t("a",{href:`https://dashboard.razorpay.com/app/paymentlinks/${e.order.razorpay_order_id}`,target:"_blank",rel:"noopener",class:"inline-flex items-center gap-2 rounded bg-blue-600 px-3 py-2 text-white hover:bg-blue-700"},[...r[13]||(r[13]=[t("i",{class:"pi pi-external-link"},null,-1),O(" Open Payment Link in Razorpay ",-1)])],8,Se)])):i("",!0)]),t("div",$e,[r[14]||(r[14]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Update Order Status ",-1)),s(a(F),{modelValue:g.value,"onUpdate:modelValue":r[1]||(r[1]=o=>g.value=o),options:Object.entries(e.paymentStatuses).map(([o,R])=>({label:R,value:o})),"option-label":"label","option-value":"value",placeholder:"Select payment status",class:"w-full mb-3"},null,8,["modelValue","options"]),s(a(V),{label:"Update Order Status",icon:"pi pi-check",disabled:!g.value||$.value,loading:$.value,onClick:q,class:"w-full"},null,8,["disabled","loading"])])])]),_:1}),s(a(b),null,{header:d(()=>[...r[15]||(r[15]=[t("div",{class:"bg-gradient-to-r from-purple-50 to-purple-100 p-4 text-purple-900 font-semibold border-b border-purple-200"}," Order Items ",-1)])]),content:d(()=>[s(a(ee),{value:e.order.items||e.order.order_items,"striped-rows":"",class:"p-datatable-sm"},{default:d(()=>[s(a(U),{field:"product.name",header:"Product Name",style:{width:"40%"}},{body:d(o=>[O(l(o.data.product?.name||"N/A"),1)]),_:1}),s(a(U),{field:"quantity",header:"Qty",style:{width:"15%"}}),s(a(U),{field:"price",header:"Unit Price",style:{width:"20%"}},{body:d(o=>[O(l(N(o.data.price)),1)]),_:1}),s(a(U),{header:"Total",style:{width:"25%"}},{body:d(o=>[O(l(N(o.data.quantity*o.data.price)),1)]),_:1})]),_:1},8,["value"]),t("div",Ne,[t("div",Oe," Total Amount: "+l(N(e.order.total_amount)),1)])]),_:1}),s(a(b),null,{header:d(()=>[...r[16]||(r[16]=[t("div",{class:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 text-orange-900 font-semibold border-b border-orange-200"}," Order Notes ",-1)])]),content:d(()=>[t("div",Pe,[s(a(M),{modelValue:h.value,"onUpdate:modelValue":r[2]||(r[2]=o=>h.value=o),rows:"4",placeholder:"Add internal notes...",class:"w-full"},null,8,["modelValue"]),s(a(V),{label:"Save Notes",icon:"pi pi-save",loading:j.value,onClick:E,class:"w-full"},null,8,["loading"])])]),_:1})]),t("div",Ve,[s(a(b),null,{header:d(()=>[...r[17]||(r[17]=[t("div",{class:"bg-gradient-to-r from-indigo-50 to-indigo-100 p-4 text-indigo-900 font-semibold border-b border-indigo-200"}," Customer Information ",-1)])]),content:d(()=>[t("div",Ce,[t("div",null,[r[18]||(r[18]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Name",-1)),t("div",Ue,l(e.order.customer?.name||"N/A"),1)]),t("div",null,[r[19]||(r[19]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Email",-1)),t("div",je,l(e.order.customer?.email||"N/A"),1)]),t("div",null,[r[20]||(r[20]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Phone",-1)),t("div",Ae,l(e.order.customer?.phone_number||"N/A"),1)])])]),_:1}),e.order.address?(n(),I(a(b),{key:0},{header:d(()=>[...r[21]||(r[21]=[t("div",{class:"bg-gradient-to-r from-cyan-50 to-cyan-100 p-4 text-cyan-900 font-semibold border-b border-cyan-200"}," Shipping Address ",-1)])]),content:d(()=>[t("div",Re,[t("div",null,[t("strong",null,l(e.order.address.first_name)+" "+l(e.order.address.last_name),1)]),t("div",null,l(e.order.address.address_line_1),1),e.order.address.address_line_2?(n(),u("div",Be,l(e.order.address.address_line_2),1)):i("",!0),t("div",null,l(e.order.address.city)+", "+l(e.order.address.state)+" "+l(e.order.address.postal_code),1),t("div",null,l(e.order.address.country),1)])]),_:1})):i("",!0),s(a(b),null,{header:d(()=>[...r[22]||(r[22]=[t("div",{class:"bg-gradient-to-r from-teal-50 to-teal-100 p-4 text-teal-900 font-semibold border-b border-teal-200"}," Order Timeline ",-1)])]),content:d(()=>[t("div",De,[t("div",null,[r[23]||(r[23]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Ordered Date",-1)),t("div",ze,l(B(e.order.created_at)),1)]),e.order.paid_at?(n(),u("div",Ie,[r[24]||(r[24]=t("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Paid Date",-1)),t("div",Fe,l(B(e.order.paid_at)),1)])):i("",!0)])]),_:1}),e.canRefund?(n(),I(a(b),{key:1},{header:d(()=>[...r[25]||(r[25]=[t("div",{class:"bg-gradient-to-r from-red-50 to-red-100 p-4 text-red-900 font-semibold border-b border-red-200"}," Process Refund ",-1)])]),content:d(()=>[t("div",Me,[t("div",null,[r[26]||(r[26]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Refund Amount ",-1)),X(t("input",{"onUpdate:modelValue":r[3]||(r[3]=o=>f.value=o),type:"number",step:"0.01",max:e.order.total_amount,class:"w-full rounded border border-gray-300 px-3 py-2 dark:border-gray-600 dark:bg-gray-700"},null,8,Te),[[Y,f.value,void 0,{number:!0}]])]),t("div",null,[r[27]||(r[27]=t("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Reason ",-1)),s(a(M),{modelValue:w.value,"onUpdate:modelValue":r[4]||(r[4]=o=>w.value=o),rows:"3",placeholder:"Enter refund reason...",class:"w-full"},null,8,["modelValue"])]),s(a(V),{label:"Process Refund",icon:"pi pi-check",severity:"danger",loading:A.value,onClick:L,class:"w-full"},null,8,["loading"])])]),_:1})):i("",!0)])])]),_:1},8,["title","breadcrumbs"])],64))}};export{mt as default};
