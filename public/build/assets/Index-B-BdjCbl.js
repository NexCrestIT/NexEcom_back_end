import{G as c,_ as X}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-DjP68X9r.js";import{r as n,c as x,q as Y,a as p,o as i,b as a,d as o,h as Z,e as v,f as s,k as L,j as B,t as C,v as G,F as ee,p as m}from"./app-g_uq3P9Q.js";import{s as te,a as w}from"./index-CSEaDcPC.js";import{s as F}from"./index-B_MRzLld.js";import{s as le}from"./index-DW7toPKJ.js";import{s as se}from"./index-BRBbQ8EH.js";import{_ as N}from"./DeleteConfirmationModal-DHEZnWn4.js";import"./index-dWEWYs2j.js";import"./useForwardExpose-CxWsbAvG.js";import"./VisuallyHidden-BIE4ZmuB.js";import"./RovingFocusGroup-DoPalDKS.js";import"./createLucideIcon-Cn-To4t-.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-CFvIkJt3.js";import"./index-Diih4kcu.js";import"./index-CPL-5HGm.js";import"./index-DqafScSn.js";import"./index-C3A8jhMi.js";import"./index-Cnk_WgH2.js";import"./index-KNfTspns.js";import"./index-AOL12p5l.js";import"./index-DA5wfV1C.js";import"./index-CZBIT8sJ.js";const ae={class:"flex flex-col gap-6 p-6"},oe={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4"},re={class:"w-full sm:w-auto search-input-wrapper"},ne={class:"flex gap-2"},ie={class:"relative inline-block"},ue={key:1,class:"absolute -top-1 -right-1 bg-red-500 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center shadow-lg border-2 border-white",style:{"min-width":"1.25rem"}},de={class:"data-table-container"},ce={class:"overflow-x-auto"},pe={key:0,class:"text-center py-12"},ve={class:"flex items-center h-full"},me={class:"text-sm text-gray-600"},fe={class:"flex items-center h-full"},ge={class:"font-medium text-gray-900"},he={class:"flex items-center gap-3"},be=["onClick"],xe=["onClick"],we=["onClick"],Oe={__name:"Index",props:{genders:{type:Array,default:()=>[]}},setup(A){const P=A,_=n(""),r=n([]),S=n(0),y=n(10),f=n(!1),u=n(!1),g=n(null),h=n(""),b=n(!1),d=n(!1),$=x(()=>{if(!_.value)return P.genders;const t=_.value.toLowerCase();return P.genders.filter(e=>e.name.toLowerCase().includes(t))}),R=x(()=>[{title:"Dashboard",href:"/dashboard"},{title:"Genders",href:c.index.url()}]),U=t=>S.value*y.value+t+1,E=t=>{S.value=t.page,y.value=t.rows},M=t=>{m.visit(c.show.url(t))},T=t=>{m.visit(c.edit.url(t))},j=(t,e)=>{g.value=t,h.value=e,f.value=!0,u.value=!1},I=()=>{g.value&&(u.value=!0,m.delete(c.destroy.url(g.value),{preserveScroll:!0,onSuccess:()=>{u.value=!1,f.value=!1,g.value=null,h.value=""},onError:()=>{u.value=!1},onFinish:()=>{u.value=!1}}))},q=()=>{f.value=!1,g.value=null,h.value="",u.value=!1},K=x(()=>h.value?`Are you sure you want to delete "${h.value}"?`:"Are you sure you want to delete this gender?"),O=()=>{m.visit(c.create.url())},z=t=>{m.post(c.toggleStatus.url(t),{},{preserveScroll:!0})},H=()=>{r.value.length!==0&&(b.value=!0,d.value=!1)},J=()=>{if(r.value.length===0)return;d.value=!0;const t=r.value.map(e=>e.id);m.post(c.bulkDelete.url(),{ids:t},{preserveScroll:!0,onSuccess:()=>{d.value=!1,b.value=!1,r.value=[]},onError:()=>{d.value=!1},onFinish:()=>{d.value=!1}})},Q=()=>{b.value=!1,d.value=!1},W=x(()=>{const t=r.value.length;return t===0?"":`Are you sure you want to delete ${t} ${t===1?"gender":"genders"}?`}),V=x(()=>r.value&&r.value.length>0);return(t,e)=>{const k=Y("tooltip");return i(),p(ee,null,[a(o(Z),{title:"Genders"}),a(X,{title:"Genders",breadcrumbs:R.value},{default:v(()=>[s("div",ae,[s("div",oe,[s("div",re,[e[4]||(e[4]=s("i",{class:"pi pi-search search-icon"},null,-1)),a(o(le),{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=l=>_.value=l),placeholder:"Search",class:"w-full"},null,8,["modelValue"])]),s("div",ne,[s("div",ie,[V.value?(i(),L(o(F),{key:0,label:"Delete Selected",icon:"pi pi-trash",severity:"danger",outlined:"",class:"flex-shrink-0",onClick:H})):B("",!0),V.value?(i(),p("span",ue,C(r.value.length),1)):B("",!0)]),a(o(F),{label:"Add Gender",icon:"pi pi-plus",severity:"primary",onClick:O,class:"flex-shrink-0"})])]),s("div",de,[s("div",ce,[$.value.length===0?(i(),p("div",pe,[...e[5]||(e[5]=[s("i",{class:"pi pi-inbox text-4xl text-gray-400 mb-3"},null,-1),s("p",{class:"text-gray-500"},"No genders found",-1)])])):(i(),L(o(te),{key:1,value:$.value,paginator:!0,rows:y.value,rowsPerPageOptions:[5,10,20,50],selection:r.value,"onUpdate:selection":e[1]||(e[1]=l=>r.value=l),paginatorTemplate:"RowsPerPageDropdown FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink CurrentPageReport",currentPageReportTemplate:"{first} to {last} of {totalRecords}",class:"p-datatable-sm",stripedRows:"",dataKey:"id",globalFilterFields:["name"],onPage:E},{default:v(()=>[a(o(w),{selectionMode:"multiple",headerStyle:"width: 3rem"}),a(o(w),{header:"#",style:{width:"60px"}},{body:v(l=>[s("div",ve,[s("span",me,C(U(l.index)),1)])]),_:1}),a(o(w),{field:"name",header:"Gender Name",sortable:!0},{body:v(l=>[s("div",fe,[s("span",ge,C(l.data.name),1)])]),_:1}),a(o(w),{field:"status",header:"Status",sortable:!0,sortField:"status",style:{width:"120px"}},{body:v(l=>[a(o(se),{modelValue:l.data.status,"onUpdate:modelValue":D=>z(l.data.id)},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),a(o(w),{header:"Actions",style:{width:"100px"}},{body:v(l=>[s("div",he,[G((i(),p("button",{onClick:D=>M(l.data.id),class:"text-gray-600 cursor-pointer"},[...e[6]||(e[6]=[s("i",{class:"pi pi-eye text-sm"},null,-1)])],8,be)),[[k,"View",void 0,{top:!0}]]),G((i(),p("button",{onClick:D=>T(l.data.id),class:"text-blue-600 cursor-pointer"},[...e[7]||(e[7]=[s("i",{class:"pi pi-pencil text-sm"},null,-1)])],8,xe)),[[k,"Edit",void 0,{top:!0}]]),G((i(),p("button",{onClick:D=>j(l.data.id,l.data.name),class:"text-red-600 cursor-pointer"},[...e[8]||(e[8]=[s("i",{class:"pi pi-trash text-sm"},null,-1)])],8,we)),[[k,"Delete",void 0,{top:!0}]])])]),_:1})]),_:1},8,["value","rows","selection"]))])])]),a(N,{visible:f.value,"onUpdate:visible":e[2]||(e[2]=l=>f.value=l),title:"Delete Gender",message:K.value,loading:u.value,onConfirm:I,onCancel:q},null,8,["visible","message","loading"]),a(N,{visible:b.value,"onUpdate:visible":e[3]||(e[3]=l=>b.value=l),title:"Delete Genders",message:W.value,loading:d.value,onConfirm:J,onCancel:Q},null,8,["visible","message","loading"])]),_:1},8,["breadcrumbs"])],64)}}};export{Oe as default};
