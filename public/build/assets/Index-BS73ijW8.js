import{c as C,r as u,z as E,q as K,a as q,o as z,b as r,d as l,h as P,e as i,f as a,t as m,s as Q,i as h,v as G,F as H,p as S}from"./app-CSoXAXzJ.js";import{d as g,_ as J}from"./AppSidebarLayout.vue_vue_type_script_setup_true_lang-CY8uq29N.js";import{s as W,a as n}from"./index-C1o9GEFB.js";import{s as F}from"./index-DUysgjrk.js";import{s as x}from"./index-rgAG_kXB.js";import{s as V}from"./index-ClsTdmJU.js";import{s as M}from"./index-WczQzp9K.js";import{s as N}from"./index-CxCC9a4c.js";import"./index-L5D_ktCJ.js";import"./useForwardExpose-DJAZBMAY.js";import"./VisuallyHidden-D64JTJ7n.js";import"./RovingFocusGroup-Cj9w1ZFH.js";import"./createLucideIcon-D0VFtXE2.js";import"./useArrowNavigation-C6Y-ieo6.js";import"./index-BLtObZYw.js";import"./index-BhB5gOq0.js";import"./index-DBsg8l4Z.js";import"./index-MKqwDtgB.js";import"./index-WnAgxEih.js";import"./index-CbxO-fR3.js";import"./index-yX7v5s_a.js";import"./index-BG-nKjgy.js";import"./index-05MKcTrA.js";import"./index-4rJ_OANk.js";import"./index-DCy8crMz.js";const X={class:"mb-6 grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4"},Y={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},Z={class:"mt-2 text-2xl font-bold text-gray-900 dark:text-white"},ee={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},te={class:"mt-2 text-2xl font-bold text-yellow-600"},ae={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},re={class:"mt-2 text-2xl font-bold text-green-600"},le={class:"rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},se={class:"mt-2 text-2xl font-bold text-blue-600"},de={class:"mb-6 rounded-lg border border-gray-200 bg-white p-4 shadow-sm dark:border-gray-700 dark:bg-gray-800"},oe={class:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-3"},ie={class:"mt-4 flex flex-col gap-2 md:flex-row"},ne={class:"rounded-lg border border-gray-200 bg-white shadow-sm dark:border-gray-700 dark:bg-gray-800"},je={__name:"Index",props:{orders:{type:[Array,Object],default:()=>[]},statistics:{type:Object,default:()=>({})},filters:{type:Object,default:()=>({})},orderStatuses:{type:Object,default:()=>({})},paymentStatuses:{type:Object,default:()=>({})}},setup(o){const d=o,U=C(()=>Array.isArray(d.orders)?d.orders:d.orders&&d.orders.data?d.orders.data:[]),y=u(d.filters.search||""),c=u(d.filters.status||""),p=u(d.filters.payment_status||""),b=u(d.filters.from_date||null),f=u(d.filters.to_date||null),w=u(d.filters.min_amount||null),k=u(d.filters.max_amount||null),O=()=>{const s={search:y.value||void 0,status:c.value||void 0,payment_status:p.value||void 0,from_date:b.value?_(b.value):void 0,to_date:f.value?_(f.value):void 0,min_amount:w.value||void 0,max_amount:k.value||void 0};S.get(g.index.url(),s,{preserveScroll:!0})},$=()=>{y.value="",c.value="",p.value="",b.value=null,f.value=null,w.value=null,k.value=null,S.get(g.index.url())},_=s=>s?new Date(s).toISOString().split("T")[0]:null,D=s=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(s),j=s=>s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",I=s=>({pending:"warning",processing:"info",shipped:"primary",delivered:"success",cancelled:"danger",returned:"secondary"})[s]||"secondary",T=s=>({pending:"warning",completed:"success",failed:"danger",refunded:"secondary"})[s]||"secondary",A=s=>{S.visit(g.show.url(s))},R=()=>{const s={search:y.value||void 0,status:c.value||void 0,payment_status:p.value||void 0};window.location.href=g.export.url()+"?"+new URLSearchParams(s).toString()},B=C(()=>[{title:"Dashboard",href:E("dashboard")},{title:"Orders",href:g.index.url()}]);return(s,e)=>{const L=K("tooltip");return z(),q(H,null,[r(l(P),{title:"Orders"}),r(J,{title:"Orders",breadcrumbs:B.value},{default:i(()=>[a("div",X,[a("div",Y,[e[7]||(e[7]=a("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Orders",-1)),a("div",Z,m(o.statistics.total_orders||0),1)]),a("div",ee,[e[8]||(e[8]=a("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Pending Orders",-1)),a("div",te,m(o.statistics.pending_orders||0),1)]),a("div",ae,[e[9]||(e[9]=a("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Total Revenue",-1)),a("div",re,m(D(o.statistics.total_revenue||0)),1)]),a("div",le,[e[10]||(e[10]=a("div",{class:"text-sm font-medium text-gray-500 dark:text-gray-400"},"Delivered Orders",-1)),a("div",se,m(o.statistics.delivered_orders||0),1)])]),a("div",de,[e[18]||(e[18]=a("h3",{class:"mb-4 text-lg font-semibold text-gray-900 dark:text-white"},"Filters",-1)),a("div",oe,[a("div",null,[e[11]||(e[11]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Search Order ",-1)),r(l(V),{modelValue:y.value,"onUpdate:modelValue":e[0]||(e[0]=t=>y.value=t),placeholder:"Order number or customer name...",class:"w-full",onKeyup:Q(O,["enter"])},null,8,["modelValue"])]),a("div",null,[e[12]||(e[12]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Order Status ",-1)),r(l(M),{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=t=>c.value=t),options:Object.entries(o.orderStatuses).map(([t,v])=>({label:v,value:t})),"option-label":"label","option-value":"value",placeholder:"All Statuses",class:"w-full"},null,8,["modelValue","options"])]),a("div",null,[e[13]||(e[13]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Payment Status ",-1)),r(l(M),{modelValue:p.value,"onUpdate:modelValue":e[2]||(e[2]=t=>p.value=t),options:Object.entries(o.paymentStatuses).map(([t,v])=>({label:v,value:t})),"option-label":"label","option-value":"value",placeholder:"All Payments",class:"w-full"},null,8,["modelValue","options"])]),a("div",null,[e[14]||(e[14]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," From Date ",-1)),r(l(N),{modelValue:b.value,"onUpdate:modelValue":e[3]||(e[3]=t=>b.value=t),"date-format":"yy-mm-dd",placeholder:"Select from date",class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[15]||(e[15]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," To Date ",-1)),r(l(N),{modelValue:f.value,"onUpdate:modelValue":e[4]||(e[4]=t=>f.value=t),"date-format":"yy-mm-dd",placeholder:"Select to date",class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[16]||(e[16]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Min Amount ",-1)),r(l(V),{modelValue:w.value,"onUpdate:modelValue":e[5]||(e[5]=t=>w.value=t),modelModifiers:{number:!0},placeholder:"Minimum amount",type:"number",class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[17]||(e[17]=a("label",{class:"mb-2 block text-sm font-medium text-gray-700 dark:text-gray-300"}," Max Amount ",-1)),r(l(V),{modelValue:k.value,"onUpdate:modelValue":e[6]||(e[6]=t=>k.value=t),modelModifiers:{number:!0},placeholder:"Maximum amount",type:"number",class:"w-full"},null,8,["modelValue"])])]),a("div",ie,[r(l(x),{label:"Apply Filters",icon:"pi pi-search",onClick:O,class:"flex-1"}),r(l(x),{label:"Reset Filters",icon:"pi pi-times",severity:"secondary",onClick:$,class:"flex-1"}),r(l(x),{label:"Export CSV",icon:"pi pi-download",severity:"info",onClick:R,class:"flex-1"})])]),a("div",ne,[r(l(W),{value:U.value,paginator:"",rows:15,"total-records":d.orders?.meta?.total||0,"responsive-layout":"scroll","striped-rows":"",class:"p-datatable-sm"},{default:i(()=>[r(l(n),{field:"id",header:"ID",style:{width:"10%"}}),r(l(n),{field:"order_number",header:"Order Number",style:{width:"15%"}},{body:i(t=>[r(l(x),{label:t.data.order_number,link:"",onClick:v=>A(t.data.id)},null,8,["label","onClick"])]),_:1}),r(l(n),{field:"customer.name",header:"Customer",style:{width:"20%"}},{body:i(t=>[h(m(t.data.customer?.name||"N/A"),1)]),_:1}),r(l(n),{field:"total_amount",header:"Amount",style:{width:"12%"}},{body:i(t=>[h(m(D(t.data.total_amount)),1)]),_:1}),r(l(n),{field:"status",header:"Status",style:{width:"12%"}},{body:i(t=>[r(l(F),{value:o.orderStatuses[t.data.status]||t.data.status,severity:I(t.data.status)},null,8,["value","severity"])]),_:1}),r(l(n),{field:"payment_status",header:"Payment",style:{width:"12%"}},{body:i(t=>[r(l(F),{value:o.paymentStatuses[t.data.payment_status]||t.data.payment_status,severity:T(t.data.payment_status)},null,8,["value","severity"])]),_:1}),r(l(n),{field:"created_at",header:"Date",style:{width:"12%"}},{body:i(t=>[h(m(j(t.data.created_at)),1)]),_:1}),r(l(n),{header:"Action",style:{width:"7%"}},{body:i(t=>[G(r(l(x),{icon:"pi pi-eye",rounded:"",text:"",severity:"info",onClick:v=>A(t.data.id)},null,8,["onClick"]),[[L,"View"]])]),_:1})]),_:1},8,["value","total-records"])])]),_:1},8,["breadcrumbs"])],64)}}};export{je as default};
